parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"sIqw":[function(require,module,exports) {
module.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};
},{}],"FB7b":[function(require,module,exports) {
function r(){return(r=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r}).apply(this,arguments)}var t=require("./hasProperty");module.exports=function(){function n(r){var t=this;this.locale={strings:{},pluralize:function(r){return 1===r?0:1}},Array.isArray(r)?r.forEach(function(r){return t._apply(r)}):this._apply(r)}var a=n.prototype;return a._apply=function(t){if(t&&t.strings){var n=this.locale;this.locale=r({},n,{strings:r({},n.strings,t.strings)}),this.locale.pluralize=t.pluralize||n.pluralize}},a.interpolate=function(r,n){var a=String.prototype,e=a.split,i=a.replace,o=/\$/g,l=[r];for(var s in n)if("_"!==s&&t(n,s)){var u=n[s];"string"==typeof u&&(u=i.call(n[s],o,"$$$$")),l=p(l,new RegExp("%\\{"+s+"\\}","g"),u)}return l;function p(r,t,n){var a=[];return r.forEach(function(r){if("string"!=typeof r)return a.push(r);e.call(r,t).forEach(function(r,t,e){""!==r&&a.push(r),t<e.length-1&&a.push(n)})}),a}},a.translate=function(r,t){return this.translateArray(r,t).join("")},a.translateArray=function(r,t){var n=this.locale.strings[r];if("object"==typeof n){if(t&&void 0!==t.smart_count){var a=this.locale.pluralize(t.smart_count);return this.interpolate(n[a],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(n,t)},n}();
},{"./hasProperty":"sIqw"}],"yGsz":[function(require,module,exports) {
module.exports=function(){var n={},t=n._fns={};return n.emit=function(n,f,e,o,i,r,s){var u=function(n){var f=t[n]?t[n]:[],e=n.indexOf(":"),o=-1===e?[n]:[n.substring(0,e),n.substring(e+1)],i=Object.keys(t),r=0,s=i.length;for(;r<s;r++){var u=i[r];if("*"===u&&(f=f.concat(t[u])),2===o.length&&o[0]===u){f=f.concat(t[u]);break}}return f}(n);u.length&&function(n,t,f){var e=0,o=t.length;for(;e<o&&t[e];e++)t[e].event=n,t[e].apply(t[e],f)}(n,u,[f,e,o,i,r,s])},n.on=function(n,f){t[n]||(t[n]=[]),t[n].push(f)},n.once=function(t,f){this.on(t,function e(){f.apply(this,arguments),n.off(t,e)})},n.off=function(n,t){var f=[];if(n&&t)for(var e=this._fns[n],o=0,i=e?e.length:0;o<i;o++)e[o]!==t&&f.push(e[o]);f.length?this._fns[n]=f:delete this._fns[n]},n};
},{}],"OkYH":[function(require,module,exports) {
module.exports=function(r,t){var e="000000000"+r;return e.substr(e.length-t)};
},{}],"VOLn":[function(require,module,exports) {
var e=require("./pad.js"),t="object"==typeof window?window:self,n=Object.keys(t).length,o=navigator.mimeTypes?navigator.mimeTypes.length:0,r=e((o+navigator.userAgent.length).toString(36)+n.toString(36),4);module.exports=function(){return r};
},{"./pad.js":"OkYH"}],"yFRG":[function(require,module,exports) {
var e,n="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(n){var o=Math.pow(2,32)-1;e=function(){return Math.abs(n.getRandomValues(new Uint32Array(1))[0]/o)}}else e=Math.random;module.exports=e;
},{}],"QD1d":[function(require,module,exports) {
var t=require("./lib/fingerprint.js"),r=require("./lib/pad.js"),e=require("./lib/getRandomValue.js"),i=0,n=4,u=36,o=Math.pow(u,n);function s(){return r((e()*o<<0).toString(u),n)}function g(){return i=i<o?i:0,++i-1}function c(){return"c"+(new Date).getTime().toString(u)+r(g().toString(u),n)+t()+(s()+s())}c.slug=function(){var r=(new Date).getTime().toString(36),e=g().toString(36).slice(-4),i=t().slice(0,1)+t().slice(-1),n=s().slice(-2);return r.slice(-2)+e+i+n},c.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},c.isSlug=function(t){if("string"!=typeof t)return!1;var r=t.length;return r>=7&&r<=10},c.fingerprint=t,module.exports=c;
},{"./lib/fingerprint.js":"VOLn","./lib/pad.js":"OkYH","./lib/getRandomValue.js":"yFRG"}],"wMdc":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],n="Expected a function",e=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,s=c||l||Function("return this")(),v=Object.prototype,p=v.toString,y=Math.max,d=Math.min,m=function(){return s.Date.now()};function b(t,e,i){var r,o,u,f,a,c,l=0,s=!1,v=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function b(n){var e=r,i=o;return r=o=void 0,l=n,f=t.apply(i,e)}function g(t){var n=t-c;return void 0===c||n>=e||n<0||v&&t-l>=u}function h(){var t=m();if(g(t))return x(t);a=setTimeout(h,function(t){var n=e-(t-c);return v?d(n,u-(t-l)):n}(t))}function x(t){return a=void 0,p&&r?b(t):(r=o=void 0,f)}function T(){var t=m(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(h,e),s?b(t):f}(c);if(v)return a=setTimeout(h,e),b(c)}return void 0===a&&(a=setTimeout(h,e)),f}return e=O(e)||0,j(i)&&(s=!!i.leading,u=(v="maxWait"in i)?y(O(i.maxWait)||0,e):u,p="trailing"in i?!!i.trailing:p),T.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},T.flush=function(){return void 0===a?f:x(m())},T}function g(t,e,i){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return j(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),b(t,e,{leading:r,maxWait:e,trailing:o})}function j(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function h(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||h(t)&&p.call(t)==i}function O(t){if("number"==typeof t)return t;if(x(t))return e;if(j(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=j(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=u.test(t);return i||f.test(t)?a(t.slice(2),i?2:8):o.test(t)?e:+t}module.exports=g;
},{}],"sgDU":[function(require,module,exports) {
module.exports=function(t){if("number"!=typeof t||isNaN(t))throw new TypeError("Expected a number, got "+typeof t);var e=t<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(e&&(t=-t),t<1)return(e?"-":"")+t+" B";var o=Math.min(Math.floor(Math.log(t)/Math.log(1024)),r.length-1);t=Number(t/Math.pow(1024,o));var a=r[o];return t>=10||t%1==0?(e?"-":"")+t.toFixed(0)+" "+a:(e?"-":"")+t.toFixed(1)+" "+a};
},{}],"tQQF":[function(require,module,exports) {
"use strict";function t(t,i){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=i,this.parts=t.split(i)}t.prototype.match=function(t){var i,e,s=!0,n=this.parts,r=n.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(e=(t||"").split(this.separator),i=0;s&&i<r;i++)"*"!==n[i]&&(s=i<e.length&&n[i]===e[i]);s=s&&e}else s=!1;else if("function"==typeof t.splice)for(s=[],i=t.length;i--;)this.match(t[i])&&(s[s.length]=t[i]);else if("object"==typeof t)for(var h in s={},t)this.match(h)&&(s[h]=t[h]);return s},module.exports=function(i,e,s){var n=new t(i,s||/[\/\.]/);return void 0!==e?n.match(e):n};
},{}],"R8nO":[function(require,module,exports) {
var r=require("wildcard"),e=/[\/\+\.]/;module.exports=function(n,t){function u(t){var u=r(t,n,e);return u&&u.length>=2}return t?u(t.split(";")[0]):u};
},{"wildcard":"tQQF"}],"im8j":[function(require,module,exports) {
function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}).apply(this,arguments)}var n=function(){function n(){this.state={},this.callbacks=[]}var a=n.prototype;return a.getState=function(){return this.state},a.setState=function(n){var a=t({},this.state),r=t({},this.state,n);this.state=r,this._publish(a,r,n)},a.subscribe=function(t){var n=this;return this.callbacks.push(t),function(){n.callbacks.splice(n.callbacks.indexOf(t),1)}},a._publish=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];this.callbacks.forEach(function(t){t.apply(void 0,n)})},n}();n.VERSION="1.2.1",module.exports=function(){return new n};
},{}],"BnBD":[function(require,module,exports) {
module.exports=function(e){var n=e.lastIndexOf(".");return-1===n||n===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,n),extension:e.slice(n+1)}};
},{}],"HmTL":[function(require,module,exports) {
module.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf"};
},{}],"Y2E4":[function(require,module,exports) {
var e=require("./getFileNameAndExtension"),n=require("./mimeTypes");module.exports=function(t){var r=t.name?e(t.name).extension:null;return r=r?r.toLowerCase():null,t.type?t.type:r&&n[r]?n[r]:"application/octet-stream"};
},{"./getFileNameAndExtension":"BnBD","./mimeTypes":"HmTL"}],"Mi8N":[function(require,module,exports) {
function t(t){var a="";return t.replace(/[^A-Z0-9]/gi,function(t){return a+="-"+e(t),"/"})+a}function e(t){return t.charCodeAt(0).toString(32)}module.exports=function(e){var a="uppy";return"string"==typeof e.name&&(a+="-"+t(e.name.toLowerCase())),void 0!==e.type&&(a+="-"+e.type),e.meta&&"string"==typeof e.meta.relativePath&&(a+="-"+t(e.meta.relativePath.toLowerCase())),void 0!==e.data.size&&(a+="-"+e.data.size),void 0!==e.data.lastModified&&(a+="-"+e.data.lastModified),a};
},{}],"aVvF":[function(require,module,exports) {
module.exports=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;var n=/Edge\/(\d+\.\d+)/.exec(e);if(!n)return!0;var r=n[1].split("."),t=r[0],u=r[1];return t=parseInt(t,10),u=parseInt(u,10),t<15||15===t&&u<15063||(t>18||18===t&&u>=18218)};
},{}],"PnTS":[function(require,module,exports) {
function t(t){return 2!==t.length?0+t:t}module.exports=function(){var n=new Date;return t(n.getHours().toString())+":"+t(n.getMinutes().toString())+":"+t(n.getSeconds().toString())};
},{}],"xruY":[function(require,module,exports) {
var r=require("@uppy/utils/lib/getTimeStamp"),n={debug:function(){},warn:function(){},error:function(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=console).error.apply(n,["[Uppy] ["+r()+"]"].concat(e))}},o={debug:function(){for(var n=console.debug||console.log,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];n.call.apply(n,[console,"[Uppy] ["+r()+"]"].concat(e))},warn:function(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=console).warn.apply(n,["[Uppy] ["+r()+"]"].concat(e))},error:function(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=console).error.apply(n,["[Uppy] ["+r()+"]"].concat(e))}};module.exports={justErrorsLogger:n,debugLogger:o};
},{"@uppy/utils/lib/getTimeStamp":"PnTS"}],"Lk0S":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=exports.h=r,exports.cloneElement=a,exports.Component=j,exports.render=z,exports.rerender=u,exports.options=exports.default=void 0;var t={};exports.options=t;var n=[],o=[];function r(r,i){var l,a,p,s,c=o;for(s=arguments.length;s-- >2;)n.push(arguments[s]);for(i&&null!=i.children&&(n.length||n.push(i.children),delete i.children);n.length;)if((a=n.pop())&&void 0!==a.pop)for(s=a.length;s--;)n.push(a[s]);else"boolean"==typeof a&&(a=null),(p="function"!=typeof r)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(p=!1)),p&&l?c[c.length-1]+=a:c===o?c=[a]:c.push(a),l=p;var u=new e;return u.nodeName=r,u.children=c,u.attributes=null==i?void 0:i,u.key=null==i?void 0:i.key,void 0!==t.vnode&&t.vnode(u),u}function i(e,t){for(var n in t)e[n]=t[n];return e}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function a(e,t){return r(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var p=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,s=[];function c(e){!e._dirty&&(e._dirty=!0)&&1==s.push(e)&&(t.debounceRendering||l)(u)}function u(){var e,t=s;for(s=[];e=t.pop();)e._dirty&&A(e)}function f(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&d(e,t.nodeName):n||e._componentConstructor===t.nodeName}function d(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function _(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===p.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,y,l):e.removeEventListener(t,y,l),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)b(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function b(e,t,n){try{e[t]=n}catch(o){}}function y(e){return this._listeners[e.type](t.event&&t.event(e)||e)}var x=[],C=0,g=!1,N=!1;function k(){for(var e;e=x.pop();)t.afterMount&&t.afterMount(e),e.componentDidMount&&e.componentDidMount()}function w(e,t,n,o,r,i){C++||(g=null!=r&&void 0!==r.ownerSVGElement,N=null!=e&&!("__preactattr_"in e));var l=S(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--C||(N=!1,i||k()),l}function S(e,t,n,o,r){var i=e,l=g;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),L(e,!0))),i.__preactattr_=!0,i;var a=t.nodeName;if("function"==typeof a)return D(e,t,n,o);if(g="svg"===a||"foreignObject"!==a&&g,a=String(a),(!e||!d(e,a))&&(i=_(a,g),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),L(e,!0)}var p=i.firstChild,s=i.__preactattr_,c=t.children;if(null==s){s=i.__preactattr_={};for(var u=i.attributes,f=u.length;f--;)s[u[f].name]=u[f].value}return!N&&c&&1===c.length&&"string"==typeof c[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=c[0]&&(p.nodeValue=c[0]):(c&&c.length||null!=p)&&U(i,c,n,o,N||null!=s.dangerouslySetInnerHTML),P(i,t.attributes,s),g=l,i}function U(e,t,n,o,r){var i,l,a,p,s,c=e.childNodes,u=[],d={},v=0,_=0,h=c.length,b=0,y=t?t.length:0;if(0!==h)for(var x=0;x<h;x++){var C=c[x],g=C.__preactattr_;null!=(N=y&&g?C._component?C._component.__key:g.key:null)?(v++,d[N]=C):(g||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(u[b++]=C)}if(0!==y)for(x=0;x<y;x++){var N;if(s=null,null!=(N=(p=t[x]).key))v&&void 0!==d[N]&&(s=d[N],d[N]=void 0,v--);else if(!s&&_<b)for(i=_;i<b;i++)if(void 0!==u[i]&&f(l=u[i],p,r)){s=l,u[i]=void 0,i===b-1&&b--,i===_&&_++;break}s=S(s,p,n,o),a=c[x],s&&s!==e&&s!==a&&(null==a?e.appendChild(s):s===a.nextSibling?m(a):e.insertBefore(s,a))}if(v)for(var x in d)void 0!==d[x]&&L(d[x],!1);for(;_<=b;)void 0!==(s=u[b--])&&L(s,!1)}function L(e,t){var n=e._component;n?H(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||m(e),M(e))}function M(e){for(e=e.lastChild;e;){var t=e.previousSibling;L(e,!0),e=t}}function P(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||h(e,o,n[o],n[o]=void 0,g);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||h(e,o,n[o],n[o]=t[o],g)}var T={};function B(e){var t=e.constructor.name;(T[t]||(T[t]=[])).push(e)}function E(e,t,n){var o,r=T[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),j.call(o,t,n)):((o=new j(t,n)).constructor=e,o.render=W),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function W(e,t,n){return this.constructor(e,n)}function V(e,n,o,r,i){e._disable||(e._disable=!0,(e.__ref=n.ref)&&delete n.ref,(e.__key=n.key)&&delete n.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==o&&(1!==o&&!1===t.syncComponentUpdates&&e.base?c(e):A(e,1,i)),e.__ref&&e.__ref(e))}function A(e,n,o,r){if(!e._disable){var l,a,p,s=e.props,c=e.state,u=e.context,f=e.prevProps||s,d=e.prevState||c,_=e.prevContext||u,m=e.base,h=e.nextBase,b=m||h,y=e._component,g=!1;if(m&&(e.props=f,e.state=d,e.context=_,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,u)?g=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,u),e.props=s,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!g){l=e.render(s,c,u),e.getChildContext&&(u=i(i({},u),e.getChildContext()));var N,S,U=l&&l.nodeName;if("function"==typeof U){var M=v(l);(a=y)&&a.constructor===U&&M.key==a.__key?V(a,M,1,u,!1):(N=a,e._component=a=E(U,M,u),a.nextBase=a.nextBase||h,a._parentComponent=e,V(a,M,0,u,!1),A(a,1,o,!0)),S=a.base}else p=b,(N=y)&&(p=e._component=null),(b||1===n)&&(p&&(p._component=null),S=w(p,l,u,o||!m,b&&b.parentNode,!0));if(b&&S!==b&&a!==y){var P=b.parentNode;P&&S!==P&&(P.replaceChild(S,b),N||(b._component=null,L(b,!1)))}if(N&&H(N),e.base=S,S&&!r){for(var T=e,B=e;B=B._parentComponent;)(T=B).base=S;S._component=T,S._componentConstructor=T.constructor}}if(!m||o?x.unshift(e):g||(e.componentDidUpdate&&e.componentDidUpdate(f,d,_),t.afterUpdate&&t.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);C||r||k()}}function D(e,t,n,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,p=a,s=v(t);r&&!p&&(r=r._parentComponent);)p=r.constructor===t.nodeName;return r&&p&&(!o||r._component)?(V(r,s,3,n,o),e=r.base):(i&&!a&&(H(i),e=l=null),r=E(t.nodeName,s,n),e&&!r.nextBase&&(r.nextBase=e,l=null),V(r,s,1,n,o),e=r.base,l&&e!==l&&(l._component=null,L(l,!1))),e}function H(e){t.beforeUnmount&&t.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?H(o):n&&(n.__preactattr_&&n.__preactattr_.ref&&n.__preactattr_.ref(null),e.nextBase=n,m(n),B(e),M(n)),e.__ref&&e.__ref(null)}function j(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function z(e,t,n){return w(n,e,{},!1,t,!1)}i(j.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),c(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),A(this,2)},render:function(){}});var R={h:r,createElement:r,cloneElement:a,Component:j,render:z,rerender:u,options:t},I=R;exports.default=I;
},{}],"Yq3O":[function(require,module,exports) {
module.exports=function(e){return e&&"object"==typeof e&&e.nodeType===Node.ELEMENT_NODE};
},{}],"KRlf":[function(require,module,exports) {
var e=require("./isDOMElement");module.exports=function(r,o){return void 0===o&&(o=document),"string"==typeof r?o.querySelector(r):e(r)?r:void 0};
},{"./isDOMElement":"Yq3O"}],"tyQ5":[function(require,module,exports) {
function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var e=require("preact"),n=require("@uppy/utils/lib/findDOMElement");function i(t){var e=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=r,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,n)})),e}}module.exports=function(){function r(t,e){this.uppy=t,this.opts=e||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var o=r.prototype;return o.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},o.setPluginState=function(e){var n,i=this.uppy.getState().plugins;this.uppy.setState({plugins:t({},i,(n={},n[this.id]=t({},i[this.id],{},e),n))})},o.setOptions=function(e){this.opts=t({},this.opts,{},e),this.setPluginState()},o.update=function(t){void 0!==this.el&&this._updateUI&&this._updateUI(t)},o.afterUpdate=function(){},o.onMount=function(){},o.mount=function(t,o){var s,a=this,u=o.id,l=n(t);if(l)return this.isTargetDOMEl=!0,this.rerender=function(t){a.uppy.getPlugin(a.id)&&(a.el=e.render(a.render(t),l,a.el),a.afterUpdate())},this._updateUI=i(this.rerender),this.uppy.log("Installing "+u+" to a DOM element '"+t+"'"),this.opts.replaceTargetContent&&(l.innerHTML=""),this.el=e.render(this.render(this.uppy.getState()),l),this.onMount(),this.el;if("object"==typeof t&&t instanceof r)s=t;else if("function"==typeof t){var h=t;this.uppy.iteratePlugins(function(t){if(t instanceof h)return s=t,!1})}if(s)return this.uppy.log("Installing "+u+" to "+s.id),this.parent=s,this.el=s.addTarget(o),this.onMount(),this.el;this.uppy.log("Not installing "+u);var p="Invalid target option given to "+u+".";throw p+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)},o.render=function(t){throw new Error("Extend the render method to add your plugin to a DOM element")},o.addTarget=function(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},o.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},o.install=function(){},o.uninstall=function(){this.unmount()},r}();
},{"preact":"Lk0S","@uppy/utils/lib/findDOMElement":"KRlf"}],"l6tt":[function(require,module,exports) {
function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)})(e)}function o(e,t,i){return(o=n()?Reflect.construct:function(e,t,i){var s=[null];s.push.apply(s,t);var r=new(Function.bind.apply(e,s));return i&&l(r,i.prototype),r}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=require("@uppy/utils/lib/Translator"),c=require("namespace-emitter"),h=require("cuid"),p=require("lodash.throttle"),f=require("@transloadit/prettier-bytes"),g=require("mime-match"),m=require("@uppy/store-default"),v=require("@uppy/utils/lib/getFileType"),y=require("@uppy/utils/lib/getFileNameAndExtension"),b=require("@uppy/utils/lib/generateFileID"),w=require("./supportsUploadProgress"),S=require("./loggers"),F=S.justErrorsLogger,U=S.debugLogger,P=require("./Plugin"),O=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).isRestriction=!0,t}return s(t,e),t}(r(Error)),_=function(){function t(t){var i=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var s={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,t){return e},onBeforeUpload:function(e){return e},store:m(),logger:F};if(this.opts=e({},s,{},t,{restrictions:e({},s.restrictions,{},t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=U),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=p(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=c(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:w(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:e({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,t,s){i.emit("state-update",e,t,s),i.updateAll(t)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this._addListeners()}var s=t.prototype;return s.on=function(e,t){return this.emitter.on(e,t),this},s.off=function(e,t){return this.emitter.off(e,t),this},s.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},s.setState=function(e){this.store.setState(e)},s.getState=function(){return this.store.getState()},s.setFileState=function(t,i){var s;if(!this.getState().files[t])throw new Error("Can’t set state for "+t+" (the file could have been removed)");this.setState({files:e({},this.getState().files,(s={},s[t]=e({},this.getState().files[t],i),s))})},s.i18nInit=function(){this.translator=new d([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},s.setOptions=function(t){this.opts=e({},this.opts,{},t,{restrictions:e({},this.opts.restrictions,{},t&&t.restrictions)}),t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(function(e){e.setOptions()}),this.setState()},s.resetProgress=function(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},i=e({},this.getState().files),s={};Object.keys(i).forEach(function(r){var o=e({},i[r]);o.progress=e({},o.progress,t),s[r]=o}),this.setState({files:s,totalProgress:0}),this.emit("reset-progress")},s.addPreProcessor=function(e){this.preProcessors.push(e)},s.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},s.addPostProcessor=function(e){this.postProcessors.push(e)},s.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},s.addUploader=function(e){this.uploaders.push(e)},s.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},s.setMeta=function(t){var i=e({},this.getState().meta,t),s=e({},this.getState().files);Object.keys(s).forEach(function(i){s[i]=e({},s[i],{meta:e({},s[i].meta,t)})}),this.log("Adding metadata:"),this.log(t),this.setState({meta:i,files:s})},s.setFileMeta=function(t,i){var s=e({},this.getState().files);if(s[t]){var r=e({},s[t].meta,i);s[t]=e({},s[t],{meta:r}),this.setState({files:s})}else this.log("Was trying to set metadata for a file that has been removed: ",t)},s.getFile=function(e){return this.getState().files[e]},s.getFiles=function(){var e=this.getState().files;return Object.keys(e).map(function(t){return e[t]})},s._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new O(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},s._checkRestrictions=function(e,t){var i=this.opts.restrictions,s=i.maxFileSize,r=i.maxNumberOfFiles,o=i.allowedFileTypes;if(r&&Object.keys(e).length+1>r)throw new O(""+this.i18n("youCanOnlyUploadX",{smart_count:r}));if(o&&!o.some(function(e){return e.indexOf("/")>-1?!!t.type&&g(t.type.replace(/;.*?$/,""),e):"."===e[0]&&t.extension.toLowerCase()===e.substr(1).toLowerCase()})){var n=o.join(", ");throw new O(this.i18n("youCanOnlyUploadFileTypes",{types:n}))}if(s&&null!=t.data.size&&t.data.size>s)throw new O(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:f(s)}))},s._showOrLogErrorAndThrow=function(e,t){var i=void 0===t?{}:t,s=i.showInformer,r=void 0===s||s,o=i.file,n=void 0===o?null:o,a=i.throwErr,l=void 0===a||a,u="object"==typeof e?e.message:e,d="object"==typeof e&&e.details?e.details:"",c=u;if(d&&(c+=" "+d),e.isRestriction?(this.log(c),this.emit("restriction-failed",n,e)):this.log(c,"error"),r&&this.info({message:u,details:d},"error",5e3),l)throw"object"==typeof e?e:new Error(e)},s._assertNewUploadAllowed=function(e){!1===this.getState().allowNewUpload&&this._showOrLogErrorAndThrow(new O(this.i18n("noNewAlreadyUploading")),{file:e})},s._checkAndCreateFileStateObject=function(t,i){var s=v(i);i.type=s;var r,o=this.opts.onBeforeFileAdded(i,t);!1===o&&this._showOrLogErrorAndThrow(new O("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:i}),"object"==typeof o&&o&&(i=o),r=i.name?i.name:"image"===s.split("/")[0]?s.split("/")[0]+"."+s.split("/")[1]:"noname";var n=y(r).extension,a=i.isRemote||!1,l=b(i);t[l]&&this._showOrLogErrorAndThrow(new O(this.i18n("noDuplicates",{fileName:r})),{file:i});var u=i.meta||{};u.name=r,u.type=s;var d=isFinite(i.data.size)?i.data.size:null,c={source:i.source||"",id:l,name:r,extension:n||"",meta:e({},this.getState().meta,{},u),type:s,data:i.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:d,uploadComplete:!1,uploadStarted:null},size:d,isRemote:a,remote:i.remote||"",preview:i.preview};try{this._checkRestrictions(t,c)}catch(h){this._showOrLogErrorAndThrow(h,{file:c})}return c},s._startIfAutoProceed=function(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){e.scheduledAutoProceed=null,e.upload().catch(function(t){t.isRestriction||e.log(t.stack||t.message||t)})},4))},s.addFile=function(t){var i;this._assertNewUploadAllowed(t);var s=this.getState().files,r=this._checkAndCreateFileStateObject(s,t);return this.setState({files:e({},s,(i={},i[r.id]=r,i))}),this.emit("file-added",r),this.log("Added file: "+r.name+", "+r.id+", mime type: "+r.type),this._startIfAutoProceed(),r.id},s.addFiles=function(t){var i=this;this._assertNewUploadAllowed();for(var s=e({},this.getState().files),r=[],o=[],n=0;n<t.length;n++)try{var a=this._checkAndCreateFileStateObject(s,t[n]);r.push(a),s[a.id]=a}catch(u){u.isRestriction||o.push(u)}if(this.setState({files:s}),r.forEach(function(e){i.emit("file-added",e)}),r.length>5?this.log("Added batch of "+r.length+" files"):Object.keys(r).forEach(function(e){i.log("Added file: "+r[e].name+"\n id: "+r[e].id+"\n type: "+r[e].type)}),r.length>0&&this._startIfAutoProceed(),o.length>0){var l="Multiple errors occurred while adding files:\n";o.forEach(function(e){l+="\n * "+e.message}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",5e3);var u=new Error(l);throw u.errors=o,u}},s.removeFiles=function(t){var i=this,s=this.getState(),r=s.files,o=s.currentUploads,n=e({},r),a=e({},o),l=Object.create(null);function u(e){return void 0===l[e]}t.forEach(function(e){r[e]&&(l[e]=r[e],delete n[e])});var d=[];Object.keys(a).forEach(function(t){var i=o[t].fileIDs.filter(u);0!==i.length?a[t]=e({},o[t],{fileIDs:i}):d.push(t)}),d.forEach(function(e){delete a[e]});var c={currentUploads:a,files:n};0===Object.keys(n).length&&(c.allowNewUpload=!0,c.error=null),this.setState(c),this._calculateTotalProgress();var h=Object.keys(l);h.forEach(function(e){i.emit("file-removed",l[e])}),h.length>5?this.log("Removed "+h.length+" files"):this.log("Removed files: "+h.join(", "))},s.removeFile=function(e){this.removeFiles([e])},s.pauseResume=function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},s.pauseAll=function(){var t=e({},this.getState().files);Object.keys(t).filter(function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted}).forEach(function(i){var s=e({},t[i],{isPaused:!0});t[i]=s}),this.setState({files:t}),this.emit("pause-all")},s.resumeAll=function(){var t=e({},this.getState().files);Object.keys(t).filter(function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted}).forEach(function(i){var s=e({},t[i],{isPaused:!1,error:null});t[i]=s}),this.setState({files:t}),this.emit("resume-all")},s.retryAll=function(){var t=e({},this.getState().files),i=Object.keys(t).filter(function(e){return t[e].error});i.forEach(function(i){var s=e({},t[i],{isPaused:!1,error:null});t[i]=s}),this.setState({files:t,error:null}),this.emit("retry-all",i);var s=this._createUpload(i,{forceAllowNewUpload:!0});return this._runUpload(s)},s.cancelAll=function(){this.emit("cancel-all");var e=this.getState().files,t=Object.keys(e);t.length&&this.removeFiles(t),this.setState({totalProgress:0,error:null})},s.retryUpload=function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=this._createUpload([e],{forceAllowNewUpload:!0});return this._runUpload(t)},s.reset=function(){this.cancelAll()},s._calculateProgress=function(t,i){if(this.getFile(t.id)){var s=isFinite(i.bytesTotal)&&i.bytesTotal>0;this.setFileState(t.id,{progress:e({},this.getFile(t.id).progress,{bytesUploaded:i.bytesUploaded,bytesTotal:i.bytesTotal,percentage:s?Math.round(i.bytesUploaded/i.bytesTotal*100):0})}),this._calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+t.id)},s._calculateTotalProgress=function(){var e=this.getFiles().filter(function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess});if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter(function(e){return null!=e.progress.bytesTotal}),i=e.filter(function(e){return null==e.progress.bytesTotal});if(0!==t.length){var s=t.reduce(function(e,t){return e+t.progress.bytesTotal},0),r=s/t.length;s+=r*i.length;var o=0;t.forEach(function(e){o+=e.progress.bytesUploaded}),i.forEach(function(e){o+=r*(e.progress.percentage||0)/100});var n=0===s?0:Math.round(o/s*100);n>100&&(n=100),this.setState({totalProgress:n}),this.emit("progress",n)}else{var a=100*e.length,l=i.reduce(function(e,t){return e+t.progress.percentage},0),u=Math.round(l/a*100);this.setState({totalProgress:u})}},s._addListeners=function(){var t=this;this.on("error",function(e){var i="Unknown error";e.message&&(i=e.message),e.details&&(i+=" "+e.details),t.setState({error:i})}),this.on("upload-error",function(e,i,s){var r="Unknown error";if(i.message&&(r=i.message),i.details&&(r+=" "+i.details),t.setFileState(e.id,{error:r,response:s}),t.setState({error:i.message}),"object"==typeof i&&i.message){var o=new Error(i.message);o.details=i.message,i.details&&(o.details+=" "+i.details),o.message=t.i18n("failedToUpload",{file:e.name}),t._showOrLogErrorAndThrow(o,{throwErr:!1})}else t._showOrLogErrorAndThrow(i,{throwErr:!1})}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(e,i){t.getFile(e.id)?t.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):t.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(i,s){if(t.getFile(i.id)){var r=t.getFile(i.id).progress;t.setFileState(i.id,{progress:e({},r,{uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:s,uploadURL:s.uploadURL,isPaused:!1}),t._calculateTotalProgress()}else t.log("Not setting progress for a file that has been removed: "+i.id)}),this.on("preprocess-progress",function(i,s){t.getFile(i.id)?t.setFileState(i.id,{progress:e({},t.getFile(i.id).progress,{preprocess:s})}):t.log("Not setting progress for a file that has been removed: "+i.id)}),this.on("preprocess-complete",function(i){if(t.getFile(i.id)){var s=e({},t.getState().files);s[i.id]=e({},s[i.id],{progress:e({},s[i.id].progress)}),delete s[i.id].progress.preprocess,t.setState({files:s})}else t.log("Not setting progress for a file that has been removed: "+i.id)}),this.on("postprocess-progress",function(i,s){t.getFile(i.id)?t.setFileState(i.id,{progress:e({},t.getState().files[i.id].progress,{postprocess:s})}):t.log("Not setting progress for a file that has been removed: "+i.id)}),this.on("postprocess-complete",function(i){if(t.getFile(i.id)){var s=e({},t.getState().files);s[i.id]=e({},s[i.id],{progress:e({},s[i.id].progress)}),delete s[i.id].progress.postprocess,t.setState({files:s})}else t.log("Not setting progress for a file that has been removed: "+i.id)}),this.on("restored",function(){t._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return t.updateOnlineStatus()}),window.addEventListener("offline",function(){return t.updateOnlineStatus()}),setTimeout(function(){return t.updateOnlineStatus()},3e3))},s.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},s.getID=function(){return this.opts.id},s.use=function(e,t){if("function"!=typeof e)throw new TypeError("Expected a plugin class, but got "+(null===e?"null":typeof e)+". Please verify that the plugin was imported and spelled correctly.");var i=new e(this,t),s=i.id;if(this.plugins[i.type]=this.plugins[i.type]||[],!s)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");var r=this.getPlugin(s);if(r){var o="Already found a plugin named '"+r.id+"'. Tried to use: '"+s+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(o)}return e.VERSION&&this.log("Using "+s+" v"+e.VERSION),this.plugins[i.type].push(i),i.install(),this},s.getPlugin=function(e){var t=null;return this.iteratePlugins(function(i){if(i.id===e)return t=i,!1}),t},s.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach(function(i){t.plugins[i].forEach(e)})},s.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.plugins[e.type]=t);var s=this.getState();delete s.plugins[e.id],this.setState(s)},s.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){e.removePlugin(t)})},s.info=function(e,t,i){void 0===t&&(t="info"),void 0===i&&(i=3e3);var s="object"==typeof e;this.setState({info:{isHidden:!1,type:t,message:s?e.message:e,details:s?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==i?setTimeout(this.hideInfo,i):void 0},s.hideInfo=function(){var t=e({},this.getState().info,{isHidden:!0});this.setState({info:t}),this.emit("info-hidden")},s.log=function(e,t){var i=this.opts.logger;switch(t){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e)}},s.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},s.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},s._createUpload=function(t,i){var s;void 0===i&&(i={});var r=i.forceAllowNewUpload,o=void 0!==r&&r,n=this.getState(),a=n.allowNewUpload,l=n.currentUploads;if(!a&&!o)throw new Error("Cannot create a new upload: already uploading.");var u=h();return this.emit("upload",{id:u,fileIDs:t}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:e({},l,(s={},s[u]={fileIDs:t,step:0,result:{}},s))}),u},s._getUpload=function(e){return this.getState().currentUploads[e]},s.addResultData=function(t,i){var s;if(this._getUpload(t)){var r=this.getState().currentUploads,o=e({},r[t],{result:e({},r[t].result,i)});this.setState({currentUploads:e({},r,(s={},s[t]=o,s))})}else this.log("Not setting result for an upload that has been removed: "+t)},s._removeUpload=function(t){var i=e({},this.getState().currentUploads);delete i[t],this.setState({currentUploads:i})},s._runUpload=function(t){var i=this,s=this.getState().currentUploads[t].step,r=[].concat(this.preProcessors,this.uploaders,this.postProcessors),o=Promise.resolve();return r.forEach(function(r,n){n<s||(o=o.then(function(){var s,o=i.getState().currentUploads,a=o[t];if(a){var l=e({},a,{step:n});return i.setState({currentUploads:e({},o,(s={},s[t]=l,s))}),r(l.fileIDs,t)}}).then(function(e){return null}))}),o.catch(function(e){i.emit("error",e,t),i._removeUpload(t)}),o.then(function(){var e=i.getState().currentUploads[t];if(e){var s=e.fileIDs.map(function(e){return i.getFile(e)}),r=s.filter(function(e){return!e.error}),o=s.filter(function(e){return e.error});i.addResultData(t,{successful:r,failed:o,uploadID:t})}}).then(function(){var e=i.getState().currentUploads;if(e[t]){var s=e[t].result;return i.emit("complete",s),i._removeUpload(t),s}}).then(function(e){return null==e&&i.log("Not setting result for an upload that has been removed: "+t),e})},s.upload=function(){var e=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,i=this.opts.onBeforeUpload(t);return!1===i?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&"object"==typeof i&&(t=i,this.setState({files:t})),Promise.resolve().then(function(){return e._checkMinNumberOfFiles(t)}).catch(function(t){e._showOrLogErrorAndThrow(t)}).then(function(){var i=e.getState().currentUploads,s=Object.keys(i).reduce(function(e,t){return e.concat(i[t].fileIDs)},[]),r=[];Object.keys(t).forEach(function(t){var i=e.getFile(t);i.progress.uploadStarted||-1!==s.indexOf(t)||r.push(i.id)});var o=e._createUpload(r);return e._runUpload(o)}).catch(function(t){e._showOrLogErrorAndThrow(t,{showInformer:!1})}))},i(t,[{key:"state",get:function(){return this.getState()}}]),t}();_.VERSION="1.11.0",module.exports=function(e){return new _(e)},module.exports.Uppy=_,module.exports.Plugin=P,module.exports.debugLogger=U;
},{"@uppy/utils/lib/Translator":"FB7b","namespace-emitter":"yGsz","cuid":"QD1d","lodash.throttle":"wMdc","@transloadit/prettier-bytes":"sgDU","mime-match":"R8nO","@uppy/store-default":"im8j","@uppy/utils/lib/getFileType":"Y2E4","@uppy/utils/lib/getFileNameAndExtension":"BnBD","@uppy/utils/lib/generateFileID":"Mi8N","./supportsUploadProgress":"aVvF","./loggers":"xruY","./Plugin":"tyQ5"}],"G1XI":[function(require,module,exports) {
var define;
var e;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var s=n.apply(null,o);s&&e.push(s)}else if("object"===a)for(var u in o)r.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}"undefined"!=typeof module&&module.exports?(n.default=n,module.exports=n):"function"==typeof e&&"object"==typeof e.amd&&e.amd?e("classnames",[],function(){return n}):window.classNames=n}();
},{}],"uMQF":[function(require,module,exports) {
module.exports=function(r,n){if(r===n)return!0;for(var i in r)if(!(i in n))return!1;for(var i in n)if(r[i]!==n[i])return!1;return!0};
},{}],"FvQk":[function(require,module,exports) {
var a=require("preact"),l=a.h;function e(){return l("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},l("g",{fill:"#686DE0","fill-rule":"evenodd"},l("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z","fill-rule":"nonzero"}),l("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z","fill-rule":"nonzero"}),l("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function i(){return l("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},l("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF","fill-rule":"nonzero"}))}function r(){return l("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},l("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67","fill-rule":"nonzero"}))}function h(){return l("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},l("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A","fill-rule":"nonzero"}))}function o(){return l("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},l("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469","fill-rule":"nonzero"}))}function c(){return l("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},l("g",{fill:"#A7AFB7","fill-rule":"nonzero"},l("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),l("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function n(){return l("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},l("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69","fill-rule":"nonzero"}))}module.exports=function(a){var l={color:"#838999",icon:c()};if(!a)return l;var t=a.split("/")[0],u=a.split("/")[1];if("text"===t)return{color:"#5a5e69",icon:n()};if("image"===t)return{color:"#686de0",icon:e()};if("audio"===t)return{color:"#068dbb",icon:i()};if("video"===t)return{color:"#19af67",icon:r()};if("application"===t&&"pdf"===u)return{color:"#e25149",icon:h()};return"application"===t&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-gtar","x-apple-diskimage","x-diskcopy"].indexOf(u)?{color:"#00C469",icon:o()}:l};
},{"preact":"Lk0S"}],"R3Rm":[function(require,module,exports) {
var e=require("../utils/getFileTypeIcon"),r=require("preact"),i=r.h;module.exports=function(r){var a=r.file;if(a.preview)return i("img",{class:"uppy-Dashboard-Item-previewImg",alt:a.name,src:a.preview});var p=e(a.type),s=p.color,t=p.icon;return i("div",{class:"uppy-Dashboard-Item-previewIconWrap"},i("span",{class:"uppy-Dashboard-Item-previewIcon",style:{color:s}},t),i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},i("rect",{fill:"#FFF",width:"58",height:"76",rx:"3","fill-rule":"evenodd"})))};
},{"../utils/getFileTypeIcon":"FvQk","preact":"Lk0S"}],"iOoQ":[function(require,module,exports) {
var e=require("preact"),r=e.h,l=require("../../FilePreview"),a=require("../../../utils/getFileTypeIcon");module.exports=function(e){return r("div",{class:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:a(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&r("a",{class:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name}),r(l,{file:e.file}))};
},{"preact":"Lk0S","../../FilePreview":"R3Rm","../../../utils/getFileTypeIcon":"FvQk"}],"hZ3Z":[function(require,module,exports) {
var e=require("preact"),r=e.h;function s(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.pauseUpload(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.cancelUpload(e.file.id):e.retryUpload(e.file.id))}function a(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function o(e){return r("div",{class:"uppy-Dashboard-Item-progress"},r("button",{class:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":a(e),title:a(e),onclick:function(){return s(e)}},e.children))}function t(e){var s=e.children;return r("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},s)}function l(e){var s=e.progress,a=2*Math.PI*15;return r("g",null,r("circle",{class:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),r("circle",{class:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":a,"stroke-dashoffset":a-a/100*s}))}module.exports=function(e){return e.file.progress.uploadStarted?e.isUploaded?r("div",{class:"uppy-Dashboard-Item-progress"},r("div",{class:"uppy-Dashboard-Item-progressIndicator"},r(t,null,r("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),r("polygon",{class:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.error&&!e.hideRetryButton?r(o,e,r("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},r("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),r("path",{d:"M7.9 3H10v2H7.9z"}),r("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),r("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?r(o,e,r(t,null,r(l,{progress:e.file.progress.percentage}),e.file.isPaused?r("polygon",{class:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):r("g",{class:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},r("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),r("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?r("div",{class:"uppy-Dashboard-Item-progress"},r("div",{class:"uppy-Dashboard-Item-progressIndicator"},r(t,null,r(l,{progress:e.file.progress.percentage})))):r(o,e,r(t,null,r(l,{progress:e.file.progress.percentage}),r("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null};
},{"preact":"Lk0S"}],"unYI":[function(require,module,exports) {
module.exports=function(t,r){if(t.length<=r)return t;if(r<="...".length)return t.substr(0,r);var e=r-"...".length,n=Math.ceil(e/2),u=Math.floor(e/2);return t.substr(0,n)+"..."+t.substr(t.length-u)};
},{}],"vdKv":[function(require,module,exports) {
var e=require("preact"),i=e.h,r=require("@transloadit/prettier-bytes"),t=require("../../../utils/truncateString"),a=function(e,r){return i("span",{title:r.i18n("fileSource",{name:e.name})},e.icon())},n=function(e){return e.file.source&&e.file.source!==e.id&&i("div",{class:"uppy-Dashboard-Item-sourceIcon"},e.acquirers.map(function(i){if(i.id===e.file.source)return a(i,e)}))},o=function(e){var r;return r=e.containerWidth<=352?35:e.containerWidth<=576?60:30,i("div",{class:"uppy-Dashboard-Item-name",title:e.file.meta.name},t(e.file.meta.name,r))},s=function(e){return e.file.data.size&&i("div",{class:"uppy-Dashboard-Item-statusSize"},r(e.file.data.size))},u=function(e){var r=e.file,t=e.onClick;return r.error?i("span",{class:"uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",onclick:t},"?"):null};module.exports=function(e){return i("div",{class:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.file.source},o(e),i("div",{class:"uppy-Dashboard-Item-status"},s(e),n(e),i(u,{file:e.file,onClick:function(){alert(e.file.error)}})))};
},{"preact":"Lk0S","@transloadit/prettier-bytes":"sgDU","../../../utils/truncateString":"unYI"}],"iumX":[function(require,module,exports) {
module.exports=function(e,o){return o=o||"Copy the URL below",new Promise(function(t){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=e,document.body.appendChild(n),n.select();var d=function(){document.body.removeChild(n),window.prompt(o,e),t()};try{return document.execCommand("copy")?(document.body.removeChild(n),t()):d()}catch(r){return document.body.removeChild(n),d()}})};
},{}],"LXe5":[function(require,module,exports) {
var e=require("preact"),i=e.h,l=require("../../../utils/copyToClipboard");function o(e){var l=e.file,o=e.uploadInProgressOrComplete,t=e.metaFields,n=e.i18n,a=e.onClick;return!o&&t&&t.length>0?i("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFile")+" "+l.meta.name,title:n("editFile"),onclick:function(){return a()}},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},i("g",{"fill-rule":"evenodd"},i("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z","fill-rule":"nonzero"}),i("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),i("path",{"fill-rule":"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function t(e){var l=e.i18n,o=e.onClick;return i("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":l("removeFile"),title:l("removeFile"),onclick:function(){return o()}},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},i("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),i("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var n=function(e,i){l(i.file.uploadURL,i.i18n("copyLinkToClipboardFallback")).then(function(){i.log("Link copied to clipboard."),i.info(i.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(i.log).then(function(){return e.target.focus({preventScroll:!0})})};function a(e){return i("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e.i18n("copyLink"),title:e.i18n("copyLink"),onclick:function(i){return n(i,e)}},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},i("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}module.exports=function(e){var l=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,u=e.showLinkToFileUploadResult,c=e.showRemoveButton,p=e.i18n,s=e.removeFile,d=e.toggleFileCard,h=e.log,f=e.info;return i("div",{className:"uppy-Dashboard-Item-actionWrapper"},i(o,{i18n:p,file:l,uploadInProgressOrComplete:n,metaFields:r,onClick:function(){return d(l.id)}}),u&&l.uploadURL?i(a,{file:l,i18n:p,info:f,log:h}):null,c?i(t,{i18n:p,info:e.info,log:e.log,onClick:function(){return s(l.id)}}):null)};
},{"preact":"Lk0S","../../../utils/copyToClipboard":"iumX"}],"RxvH":[function(require,module,exports) {
function e(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o}var o=require("preact"),s=o.h,r=o.Component,i=require("classnames"),p=require("is-shallow-equal"),t=require("./FilePreviewAndLink"),l=require("./FileProgress"),n=require("./FileInfo"),a=require("./Buttons");module.exports=function(o){function r(){return o.apply(this,arguments)||this}e(r,o);var u=r.prototype;return u.shouldComponentUpdate=function(e){return!p(this.props,e)},u.componentDidMount=function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)},u.componentWillUnmount=function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)},u.render=function(){var e=this.props.file,o=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!o&&!e.error,p=e.progress.uploadStarted||o,u=e.progress.uploadStarted&&!e.progress.uploadComplete||o,d=e.error||!1,h=this.props.individualCancellation?!r:!u&&!r;r&&this.props.showRemoveButtonAfterComplete&&(h=!0);var c=i({"uppy-Dashboard-Item":!0,"is-inprogress":u,"is-processing":o,"is-complete":r,"is-error":!!d,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation});return s("div",{class:c,id:"uppy_"+e.id,role:this.props.role},s("div",{class:"uppy-Dashboard-Item-preview"},s(t,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult}),s(l,{file:e,error:d,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,pauseUpload:this.props.pauseUpload,cancelUpload:this.props.cancelUpload,retryUpload:this.props.retryUpload,i18n:this.props.i18n})),s("div",{class:"uppy-Dashboard-Item-fileInfoAndButtons"},s(n,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n}),s(a,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:h,uploadInProgressOrComplete:p,removeFile:this.props.removeFile,toggleFileCard:this.props.toggleFileCard,i18n:this.props.i18n,log:this.props.log,info:this.props.info})))},r}(r);
},{"preact":"Lk0S","classnames":"G1XI","is-shallow-equal":"uMQF","./FilePreviewAndLink":"iOoQ","./FileProgress":"hZ3Z","./FileInfo":"vdKv","./Buttons":"LXe5"}],"cDCe":[function(require,module,exports) {
function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function t(e,t){if(null==e)return{};var n,o,i={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=require("preact"),i=o.h,s=o.Component,r={position:"relative",width:"100%",minHeight:"100%"},a={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},c=function(o){function s(e){var t;return(t=o.call(this,e)||this).handleResize=function(){t.resize()},t.handleScroll=function(){t.setState({offset:t.base.scrollTop}),t.props.sync&&t.forceUpdate()},t.focusElement=null,t.state={offset:0,height:0},t}n(s,o);var c=s.prototype;return c.resize=function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},c.componentWillUpdate=function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},c.componentDidUpdate=function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},c.componentDidMount=function(){this.resize(),window.addEventListener("resize",this.handleResize)},c.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},c.render=function(n){var o=n.data,s=n.rowHeight,c=n.renderRow,l=n.overscanCount,h=void 0===l?10:l,u=(n.sync,t(n,["data","rowHeight","renderRow","overscanCount","sync"])),f=this.state,p=f.offset,d=f.height,m=Math.floor(p/s),v=Math.floor(d/s);h&&(m=Math.max(0,m-m%h),v+=h);var g=m+v+4,y=o.slice(m,g),w=e({},r,{height:o.length*s}),E=e({},a,{top:m*s});return i("div",e({onScroll:this.handleScroll},u),i("div",{role:"presentation",style:w},i("div",{role:"presentation",style:E},y.map(c))))},s}(s);module.exports=c;
},{"preact":"Lk0S"}],"ThFl":[function(require,module,exports) {
function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e}).apply(this,arguments)}var t=require("./FileItem/index.js"),i=require("./VirtualList"),l=require("classnames"),r=require("preact"),o=r.h;function a(e,t){var i=[],l=[];return e.forEach(function(e,r){l.length<t?l.push(e):(i.push(l),l=[e])}),l.length&&i.push(l),i}module.exports=function(r){var n=0===r.totalFileCount,u=l("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":n}),s=1===r.itemsPerRow?71:200,d={id:r.id,error:r.error,i18n:r.i18n,log:r.log,info:r.info,acquirers:r.acquirers,resumableUploads:r.resumableUploads,individualCancellation:r.individualCancellation,hideRetryButton:r.hideRetryButton,hidePauseResumeButton:r.hidePauseResumeButton,hideCancelButton:r.hideCancelButton,showLinkToFileUploadResult:r.showLinkToFileUploadResult,showRemoveButtonAfterComplete:r.showRemoveButtonAfterComplete,isWide:r.isWide,metaFields:r.metaFields,retryUpload:r.retryUpload,pauseUpload:r.pauseUpload,cancelUpload:r.cancelUpload,toggleFileCard:r.toggleFileCard,removeFile:r.removeFile,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail},h=a(Object.keys(r.files),r.itemsPerRow);return o(i,{class:u,role:"list",data:h,renderRow:function(i){return o("div",{role:"presentation",key:i[0]},i.map(function(i){return o(t,e({key:i},d,{role:"listitem",file:r.files[i]}))}))},rowHeight:s})};
},{"./FileItem/index.js":"RxvH","./VirtualList":"cDCe","classnames":"G1XI","preact":"Lk0S"}],"wnuz":[function(require,module,exports) {
function e(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}var r=require("preact"),p=r.h,n=r.Component,t=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=r.call.apply(r,[this].concat(t))||this).triggerFileInputClick=function(){e.fileInput.click()},e.onFileInputChange=function(r){e.props.handleInputChange(r),r.target.value=null},e.renderHiddenFileInput=function(){return p("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onchange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:function(r){e.fileInput=r}})},e.renderMyDeviceAcquirer=function(){return p("div",{class:"uppy-DashboardTab",role:"presentation"},p("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"data-uppy-super-focusable":!0,onclick:e.triggerFileInputClick},p("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("g",{fill:"none","fill-rule":"evenodd"},p("rect",{width:"32",height:"32",rx:"16",fill:"#2275D7"}),p("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),p("div",{class:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderDropPasteBrowseTagline=function(){var r=e.props.acquirers.length,n=p("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-browse",onclick:e.triggerFileInputClick,"data-uppy-super-focusable":0===r},e.props.i18n("browse"));return p("div",{class:"uppy-Dashboard-AddFiles-title"},r>0?e.props.i18nArray("dropPasteImport",{browse:n}):e.props.i18nArray("dropPaste",{browse:n}))},e.renderAcquirer=function(r){return p("div",{class:"uppy-DashboardTab",role:"presentation"},p("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+r.id,"aria-selected":e.props.activePickerPanel.id===r.id,"data-uppy-super-focusable":!0,onclick:function(){return e.props.showPanel(r.id)}},r.icon(),p("div",{class:"uppy-DashboardTab-name"},r.name)))},e.renderAcquirers=function(r){var n=[].concat(r),t=n.splice(r.length-2,r.length);return p("div",{class:"uppy-Dashboard-AddFiles-list",role:"tablist"},e.renderMyDeviceAcquirer(),n.map(function(r){return e.renderAcquirer(r)}),p("span",{role:"presentation",style:"white-space: nowrap;"},t.map(function(r){return e.renderAcquirer(r)})))},e}e(n,r);var t=n.prototype;return t.renderPoweredByUppy=function(){var e=p("span",null,p("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},p("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),p("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy")),r=this.props.i18nArray("poweredBy2",{backwardsCompat:this.props.i18n("poweredBy"),uppy:e});return p("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},r)},t.render=function(){return p("div",{class:"uppy-Dashboard-AddFiles"},this.renderHiddenFileInput(),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers),p("div",{class:"uppy-Dashboard-AddFiles-info"},this.props.note&&p("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},n}(n);module.exports=t;
},{"preact":"Lk0S"}],"mUH2":[function(require,module,exports) {
var e=require("preact"),a=e.h,d=require("./AddFiles"),n=function(e){return a("div",{class:"uppy-Dashboard-AddFilesPanel","data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},a("div",{class:"uppy-DashboardContent-bar"},a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),a("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(a){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),a(d,e))};module.exports=n;
},{"preact":"Lk0S","./AddFiles":"wnuz"}],"IW2G":[function(require,module,exports) {
function t(t){var a=t.target.tagName;"INPUT"!==a&&"TEXTAREA"!==a?(t.preventDefault(),t.stopPropagation()):t.stopPropagation()}module.exports=t;
},{}],"OfZc":[function(require,module,exports) {
var e=require("preact"),a=e.h,n=require("../utils/ignoreEvent.js");function t(e){return a("div",{class:"uppy-DashboardContent-panel",role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--"+e.activePickerPanel.id,onDragOver:n,onDragLeave:n,onDrop:n,onPaste:n},a("div",{class:"uppy-DashboardContent-bar"},a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("importFrom",{name:e.activePickerPanel.name})),a("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),a("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePickerPanel.id).render(e.state)))}module.exports=t;
},{"preact":"Lk0S","../utils/ignoreEvent.js":"IW2G"}],"OSRN":[function(require,module,exports) {
var e=require("preact"),a=e.h,t={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function n(e,a,n,s){if(void 0===s&&(s={}),e)return t.STATE_ERROR;if(a)return t.STATE_COMPLETE;if(n)return t.STATE_PAUSED;for(var r=t.STATE_WAITING,l=Object.keys(s),o=0;o<l.length;o++){var i=s[l[o]].progress;if(i.uploadStarted&&!i.uploadComplete)return t.STATE_UPLOADING;i.preprocess&&r!==t.STATE_UPLOADING&&(r=t.STATE_PREPROCESSING),i.postprocess&&r!==t.STATE_UPLOADING&&r!==t.STATE_PREPROCESSING&&(r=t.STATE_POSTPROCESSING)}return r}function s(e){switch(n(e.isAllErrored,e.isAllComplete,e.isAllPaused,e.files)){case"uploading":return e.i18n("uploadingXFiles",{smart_count:e.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return e.i18n("processingXFiles",{smart_count:e.processingFiles.length});case"paused":return e.i18n("uploadPaused");case"waiting":return e.i18n("xFilesSelected",{smart_count:e.newFiles.length});case"complete":return e.i18n("uploadComplete")}}function r(e){var t=e.allowNewUpload;return t&&e.maxNumberOfFiles&&(t=e.totalFileCount<e.maxNumberOfFiles),a("div",{class:"uppy-DashboardContent-bar"},e.isAllComplete||e.hideCancelButton?a("div",null):a("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel")),a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},a(s,e)),t?a("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},a("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},a("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),a("span",{class:"uppy-DashboardContent-addMoreCaption"},e.i18n("addMore"))):a("div",null))}module.exports=r;
},{"preact":"Lk0S"}],"z78c":[function(require,module,exports) {
function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a=require("preact"),r=a.h,n=a.Component,p=require("../../utils/getFileTypeIcon"),o=require("../../utils/ignoreEvent.js"),i=require("../FilePreview"),s=function(a){function n(t){var n;(n=a.call(this,t)||this).saveOnEnter=function(e){if(13===e.keyCode){e.stopPropagation(),e.preventDefault();var t=n.props.files[n.props.fileCardFor];n.props.saveFileCard(n.state.formState,t.id)}},n.updateMeta=function(t,a){var r;n.setState({formState:e({},n.state.formState,(r={},r[a]=t,r))})},n.handleSave=function(){var e=n.props.fileCardFor;n.props.saveFileCard(n.state.formState,e)},n.handleCancel=function(){n.props.toggleFileCard()},n.renderMetaFields=function(){var e=n.props.metaFields||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(function(e){var a="uppy-Dashboard-FileCard-input-"+e.id;return r("fieldset",{key:e.id,class:"uppy-Dashboard-FileCard-fieldset"},r("label",{class:"uppy-Dashboard-FileCard-label",for:a},e.name),void 0!==e.render?e.render({value:n.state.formState[e.id],onChange:function(t){return n.updateMeta(t,e.id)},fieldCSSClasses:t},r):r("input",{class:t.text,id:a,type:e.type||"text",value:n.state.formState[e.id],placeholder:e.placeholder,onkeyup:n.saveOnEnter,onkeydown:n.saveOnEnter,onkeypress:n.saveOnEnter,oninput:function(t){return n.updateMeta(t.target.value,e.id)},"data-uppy-super-focusable":!0}))})};var p=n.props.files[n.props.fileCardFor],o=n.props.metaFields||[],i={};return o.forEach(function(e){i[e.id]=p.meta[e.id]||""}),n.state={formState:i},n}return t(n,a),n.prototype.render=function(){var e=this.props.files[this.props.fileCardFor];return r("div",{class:"uppy-Dashboard-FileCard","data-uppy-panelType":"FileCard",onDragOver:o,onDragLeave:o,onDrop:o,onPaste:o},r("div",{class:"uppy-DashboardContent-bar"},r("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:r("span",{class:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),r("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),r("div",{class:"uppy-Dashboard-FileCard-inner"},r("div",{class:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:p(e.type).color}},r(i,{file:e})),r("div",{class:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),r("div",{class:"uppy-Dashboard-FileCard-actions"},r("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),r("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},n}(n);module.exports=s;
},{"preact":"Lk0S","../../utils/getFileTypeIcon":"FvQk","../../utils/ignoreEvent.js":"IW2G","../FilePreview":"R3Rm"}],"PX3p":[function(require,module,exports) {
module.exports=function(){var n=document.createElement("div");return"draggable"in n&&"ondragstart"in n&&"ondrop"in n&&("FormData"in window&&"FileReader"in window)};
},{}],"OVo5":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,n=arguments[3];!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof t&&t.amd?t(["preact"],e):n.PreactCSSTransitionGroup=e(n.preact)}(this,function(t){"use strict";function n(t){return t.attributes&&t.attributes.key}function e(t){return t.base}function i(t){return t&&t.filter(function(t){return null!==t})}function r(t,n){for(var e=t.length;e--;)if(n(t[e]))return!0;return!1}function o(t,e){return r(t,function(t){return n(t)===e})}function s(t,e){return o(t,n(e))}function a(t,e,i){return r(t,function(t){return n(t)===e&&t.props[i]})}function u(t,e,i){return a(t,n(e),i)}var c=" ",p=/[\n\t\r]+/g,l=function(t){return(c+t+c).replace(p,c)};function h(t,n){var e;t.classList?(e=t.classList).add.apply(e,n.split(" ")):t.className+=" "+n}function f(t,n){if(n=n.trim(),t.classList){var e;(e=t.classList).remove.apply(e,n.split(" "))}else{var i=t.className.trim(),r=l(i);for(n=c+n+c;r.indexOf(n)>=0;)r=r.replace(n,c);t.className=r.trim()}}var m={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},d=[];"undefined"!=typeof window&&function(){var t=document.createElement("div").style;for(var n in"AnimationEvent"in window||delete m.animationend.animation,"TransitionEvent"in window||delete m.transitionend.transition,m){var e=m[n];for(var i in e)if(i in t){d.push(e[i]);break}}}();var v=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},y=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},T=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},E=function(t){function n(){var i,r;v(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=r=T(this,t.call.apply(t,[this].concat(s))),r.flushClassNameQueue=function(){e(r)&&h(e(r),r.classNameQueue.join(" ")),r.classNameQueue.length=0,r.timeout=null},T(r,i)}return y(n,t),n.prototype.transition=function(t,n,i){var r=this,o=e(this),s=this.props.name[t]||this.props.name+"-"+t,a=this.props.name[t+"Active"]||s+"-active",u=null;this.endListener&&this.endListener(),this.endListener=function(t){t&&t.target!==o||(clearTimeout(u),f(o,s),f(o,a),function(t,n){d.length&&d.forEach(function(e){t.removeEventListener(e,n,!1)})}(o,r.endListener),r.endListener=null,n&&n())},i?(u=setTimeout(this.endListener,i),this.transitionTimeouts.push(u)):function(t,n){if(!d.length)return window.setTimeout(n,0);d.forEach(function(e){t.addEventListener(e,n,!1)})}(o,this.endListener),h(o,s),this.queueClass(a)},n.prototype.queueClass=function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},n.prototype.stop=function(){this.timeout&&(clearTimeout(this.timeout),this.classNameQueue.length=0,this.timeout=null),this.endListener&&this.endListener()},n.prototype.componentWillMount=function(){this.classNameQueue=[],this.transitionTimeouts=[]},n.prototype.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)})},n.prototype.componentWillEnter=function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},n.prototype.componentWillLeave=function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},n.prototype.render=function(){return(t=this.props.children)&&t[0];var t},n}(t.Component),L=function(e){function r(i){v(this,r);var o=T(this,e.call(this));return o.renderChild=function(e){var i=o.props,r=i.transitionName,s=i.transitionEnter,a=i.transitionLeave,u=i.transitionEnterTimeout,c=i.transitionLeaveTimeout,p=n(e);return t.h(E,{key:p,ref:function(t){(o.refs[p]=t)||(e=null)},name:r,enter:s,leave:a,enterTimeout:u,leaveTimeout:c},e)},o.refs={},o.state={children:(i.children||[]).slice()},o}return y(r,e),r.prototype.shouldComponentUpdate=function(t,n){return n.children!==this.state.children},r.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},r.prototype.componentWillReceiveProps=function(e){var r,a,c,p,l=this,h=e.children,f=e.exclusive,m=e.showProp,d=i(h||[]).slice(),v=i(f?this.props.children:this.state.children),y=(r=d,a=[],c={},p=[],v.forEach(function(t){var e=n(t);o(r,e)?p.length&&(c[e]=p,p=[]):p.push(t)}),r.forEach(function(t){var e=n(t);c.hasOwnProperty(e)&&(a=a.concat(c[e])),a.push(t)}),a.concat(p));m&&(y=y.map(function(n){var e;!n.props[m]&&u(v,n,m)&&(n=t.cloneElement(n,((e={})[m]=!0,e)));return n})),f&&y.forEach(function(t){return l.stop(n(t))}),this.setState({children:y}),this.forceUpdate(),d.forEach(function(t){var n=t.key,e=v&&s(v,t);if(m){if(e){var i=u(v,t,m),r=t.props[m];i||!r||l.currentlyTransitioningKeys[n]||l.keysToEnter.push(n)}}else e||l.currentlyTransitioningKeys[n]||l.keysToEnter.push(n)}),v.forEach(function(t){var n=t.key,e=d&&s(d,t);if(m){if(e){var i=u(d,t,m),r=t.props[m];i||!r||l.currentlyTransitioningKeys[n]||l.keysToLeave.push(n)}}else e||l.currentlyTransitioningKeys[n]||l.keysToLeave.push(n)})},r.prototype.performEnter=function(t){var n=this;this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(function(){return n._handleDoneEntering(t)}):this._handleDoneEntering(t)},r.prototype._handleDoneEntering=function(t){delete this.currentlyTransitioningKeys[t];var n=i(this.props.children),e=this.props.showProp;!n||!e&&!o(n,t)||e&&!a(n,t,e)?this.performLeave(t):this.setState({children:n})},r.prototype.stop=function(t){delete this.currentlyTransitioningKeys[t];var n=this.refs[t];n&&n.stop()},r.prototype.performLeave=function(t){var n=this;this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e&&e.componentWillLeave?e.componentWillLeave(function(){return n._handleDoneLeaving(t)}):this._handleDoneLeaving(t)},r.prototype._handleDoneLeaving=function(t){delete this.currentlyTransitioningKeys[t];var n=this.props.showProp,e=i(this.props.children);n&&e&&a(e,t,n)?this.performEnter(t):!n&&e&&o(e,t)?this.performEnter(t):this.setState({children:e})},r.prototype.componentDidUpdate=function(){var t=this,n=this.keysToEnter,e=this.keysToLeave;this.keysToEnter=[],n.forEach(function(n){return t.performEnter(n)}),this.keysToLeave=[],e.forEach(function(n){return t.performLeave(n)})},r.prototype.render=function(n,e){var r=n.component,o=(n.transitionName,n.transitionEnter,n.transitionLeave,n.transitionEnterTimeout,n.transitionLeaveTimeout,n.children,function(t,n){var e={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}(n,["component","transitionName","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","children"])),s=e.children;return t.h(r,o,i(s).map(this.renderChild))},r}(t.Component);return L.defaultProps={component:"span",transitionEnter:!0,transitionLeave:!0},L});
},{"preact":"Lk0S"}],"gogG":[function(require,module,exports) {
function e(){return(e=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i=require("./FileList"),a=require("./AddFiles"),r=require("./AddFilesPanel"),n=require("./PickerPanelContent"),l=require("./PickerPanelTopBar"),s=require("./FileCard"),t=require("classnames"),o=require("@uppy/utils/lib/isDragDropSupported"),d=require("preact"),p=d.h,u=require("preact-css-transition-group");function h(e){return p(u,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},e.children)}var c=900,y=700,g=576,D=400;module.exports=function(d){var u=0===d.totalFileCount,b=d.containerWidth>g,v=t({"uppy-Root":d.isTargetDOMEl,"uppy-Dashboard":!0,"uppy-Dashboard--animateOpenClose":d.animateOpenClose,"uppy-Dashboard--isClosing":d.isClosing,"uppy-Dashboard--isDraggingOver":d.isDraggingOver,"uppy-Dashboard--modal":!d.inline,"uppy-size--md":d.containerWidth>g,"uppy-size--lg":d.containerWidth>y,"uppy-size--xl":d.containerWidth>c,"uppy-size--height-md":d.containerHeight>D,"uppy-Dashboard--isAddFilesPanelVisible":d.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":d.areInsidesReadyToBeVisible}),P=1;d.containerWidth>c?P=5:d.containerWidth>y?P=4:d.containerWidth>g&&(P=3);var m=d.showSelectedFiles&&!u;return p("div",{class:v,"data-uppy-theme":d.theme,"data-uppy-num-acquirers":d.acquirers.length,"data-uppy-drag-drop-supported":o(),"aria-hidden":d.inline?"false":d.isHidden,"aria-label":d.inline?d.i18n("dashboardTitle"):d.i18n("dashboardWindowTitle"),onpaste:d.handlePaste,onDragOver:d.handleDragOver,onDragLeave:d.handleDragLeave,onDrop:d.handleDrop},p("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:d.handleClickOutside}),p("div",{class:"uppy-Dashboard-inner","aria-modal":!d.inline&&"true",role:!d.inline&&"dialog",style:{width:d.inline&&d.width?d.width:"",height:d.inline&&d.height?d.height:""}},d.inline?null:p("button",{class:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":d.i18n("closeModal"),title:d.i18n("closeModal"),onclick:d.closeModal},p("span",{"aria-hidden":"true"},"×")),p("div",{class:"uppy-Dashboard-innerWrap"},p("div",{class:"uppy-Dashboard-dropFilesHereHint"},d.i18n("dropHint")),m&&p(l,d),m?p(i,e({},d,{itemsPerRow:P})):p(a,e({},d,{isSizeMD:b})),p(h,null,d.showAddFilesPanel?p(r,e({key:"AddFilesPanel"},d,{isSizeMD:b})):null),p(h,null,d.fileCardFor?p(s,e({key:"FileCard"},d)):null),p(h,null,d.activePickerPanel?p(n,e({key:"PickerPanelContent"},d)):null),p("div",{class:"uppy-Dashboard-progressindicators"},d.progressindicators.map(function(e){return d.getPlugin(e.id).render(d.state)})))))};
},{"./FileList":"ThFl","./AddFiles":"wnuz","./AddFilesPanel":"mUH2","./PickerPanelContent":"OfZc","./PickerPanelTopBar":"OSRN","./FileCard":"z78c","classnames":"G1XI","@uppy/utils/lib/isDragDropSupported":"PX3p","preact":"Lk0S","preact-css-transition-group":"OVo5"}],"jU0g":[function(require,module,exports) {
module.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};
},{}],"VcWd":[function(require,module,exports) {
module.exports=function(o){return{hours:Math.floor(o/3600)%24,minutes:Math.floor(o/60)%60,seconds:Math.floor(o%60)}};
},{}],"KbyV":[function(require,module,exports) {
var s=require("./secondsToTime");module.exports=function(r){var u=s(r),e=u.hours?u.hours+"h ":"",o=u.hours?("0"+u.minutes).substr(-2):u.minutes,n=o?o+"m":"",t=o?("0"+u.seconds).substr(-2):u.seconds;return""+e+n+(u.hours?"":o?" "+t+"s":t+"s")};
},{"./secondsToTime":"VcWd"}],"sDiR":[function(require,module,exports) {
function t(){return(t=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}).apply(this,arguments)}var a=require("lodash.throttle"),e=require("classnames"),s=require("./StatusBarStates"),l=require("@transloadit/prettier-bytes"),r=require("@uppy/utils/lib/prettyETA"),u=require("preact"),i=u.h;function n(t){var a=[];Object.keys(t).forEach(function(e){var s=t[e].progress;s.preprocess&&a.push(s.preprocess),s.postprocess&&a.push(s.postprocess)});var e=a[0];return{mode:e.mode,message:e.message,value:a.filter(function(t){return"determinate"===t.mode}).reduce(function(t,a,e,s){return t+a.value/s.length},0)}}function o(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}module.exports=function(a){var l,r,u=a=a||{},o=u.newFiles,f=u.allowNewUpload,S=u.isUploadInProgress,h=u.isAllPaused,m=u.resumableUploads,B=u.error,b=u.hideUploadButton,w=u.hidePauseResumeButton,P=u.hideCancelButton,F=u.hideRetryButton,E=a.uploadState,U=a.totalProgress;if(E===s.STATE_PREPROCESSING||E===s.STATE_POSTPROCESSING){var _=n(a.files);"determinate"===(l=_.mode)&&(U=100*_.value),r=v(_)}else E===s.STATE_COMPLETE?r=A(a):E===s.STATE_UPLOADING?(a.supportsUploadProgress||(l="indeterminate",U=null),r=T(a)):E===s.STATE_ERROR&&(U=void 0,r=g(a));var O="number"==typeof U?U:100,I=E===s.STATE_WAITING&&a.hideUploadButton||E===s.STATE_WAITING&&!a.newFiles>0||E===s.STATE_COMPLETE&&a.hideAfterFinish,M=!B&&o&&!S&&!h&&f&&!b,C=!P&&E!==s.STATE_WAITING&&E!==s.STATE_COMPLETE,L=m&&!w&&E===s.STATE_UPLOADING,x=B&&!F,N="uppy-StatusBar-progress\n                           "+(l?"is-"+l:""),z=e({"uppy-Root":a.isTargetDOMEl},"uppy-StatusBar","is-"+E);return i("div",{class:z,"aria-hidden":I},i("div",{class:N,style:{width:O+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":U}),r,i("div",{class:"uppy-StatusBar-actions"},M?i(p,t({},a,{uploadState:E})):null,x?i(c,a):null,L?i(y,a):null,C?i(d,a):null))};var p=function(t){var a=e("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":t.uploadState===s.STATE_WAITING});return i("button",{type:"button",class:a,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload,"data-uppy-super-focusable":!0},t.newFiles&&t.isUploadStarted?t.i18n("uploadXNewFiles",{smart_count:t.newFiles}):t.i18n("uploadXFiles",{smart_count:t.newFiles}))},c=function(t){return i("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t.i18n("retryUpload"),onclick:t.retryAll,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},i("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t.i18n("retry"))},d=function(t){return i("button",{type:"button",class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t.i18n("cancel"),"aria-label":t.i18n("cancel"),onclick:t.cancelAll,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},i("g",{fill:"none","fill-rule":"evenodd"},i("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),i("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},y=function(t){var a=t.isAllPaused,e=t.i18n,s=e(a?"resume":"pause");return i("button",{title:s,"aria-label":s,class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onclick:function(){return o(t)},"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},i("g",{fill:"none","fill-rule":"evenodd"},i("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),i("path",a?{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}:{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},f=function(){return i("svg",{class:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},i("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0","fill-rule":"evenodd"}))},v=function(t){var a=Math.round(100*t.value);return i("div",{class:"uppy-StatusBar-content"},i(f,null),"determinate"===t.mode?a+"% · ":"",t.message)},S=function(){return" · "},h=function(t){var a=t.numUploads>1;return i("div",{class:"uppy-StatusBar-statusSecondary"},a&&t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.numUploads}),i("span",{class:"uppy-StatusBar-additionalInfo"},a&&S(),t.i18n("dataUploadedOfTotal",{complete:l(t.totalUploadedSize),total:l(t.totalSize)}),S(),t.i18n("xTimeLeft",{time:r(t.totalETA)})))},m=function(t){return i("div",{class:"uppy-StatusBar-statusSecondary"},t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.numUploads}))},B=function(t){var a=e("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return i("div",{class:"uppy-StatusBar-statusSecondary"},i("div",{class:"uppy-StatusBar-statusSecondaryHint"},t.i18n("xMoreFilesAdded",{smart_count:t.newFiles})),i("button",{type:"button",class:a,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload},t.i18n("upload")))},b=a(h,500,{leading:!0,trailing:!0}),T=function(t){if(!t.isUploadStarted||t.isAllComplete)return null;var a=t.isAllPaused?t.i18n("paused"):t.i18n("uploading"),e=t.newFiles&&t.isUploadStarted;return i("div",{class:"uppy-StatusBar-content","aria-label":a,title:a},t.isAllPaused?null:i(f,null),i("div",{class:"uppy-StatusBar-status"},i("div",{class:"uppy-StatusBar-statusPrimary"},t.supportsUploadProgress?a+": "+t.totalProgress+"%":a),t.isAllPaused||e||!t.showProgressDetails?null:t.supportsUploadProgress?i(b,t):i(m,t),e?i(B,t):null))},A=function(t){t.totalProgress;var a=t.i18n;return i("div",{class:"uppy-StatusBar-content",role:"status",title:a("complete")},i("div",{class:"uppy-StatusBar-status"},i("div",{class:"uppy-StatusBar-statusPrimary"},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},i("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),a("complete"))))},g=function(t){var a=t.error,e=(t.retryAll,t.hideRetryButton,t.i18n);return i("div",{class:"uppy-StatusBar-content",role:"alert",title:e("uploadFailed")},i("div",{class:"uppy-StatusBar-status"},i("div",{class:"uppy-StatusBar-statusPrimary"},i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},i("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),e("uploadFailed"))),i("span",{class:"uppy-StatusBar-details","aria-label":a,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip",onclick:function(){var t=e("uploadFailed")+" \n\n "+a;alert(t)}},"?"))};
},{"lodash.throttle":"wMdc","classnames":"G1XI","./StatusBarStates":"jU0g","@transloadit/prettier-bytes":"sgDU","@uppy/utils/lib/prettyETA":"KbyV","preact":"Lk0S"}],"KoKB":[function(require,module,exports) {
module.exports=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)};
},{}],"DfeM":[function(require,module,exports) {
module.exports=function(e){return e.bytesTotal-e.bytesUploaded};
},{}],"JQa9":[function(require,module,exports) {
var t,e;function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var l=require("@uppy/core"),i=l.Plugin,n=require("@uppy/utils/lib/Translator"),a=require("./StatusBar"),p=require("./StatusBarStates"),u=require("@uppy/utils/lib/getSpeed"),d=require("@uppy/utils/lib/getBytesRemaining");module.exports=(e=t=function(t){function e(e,s){var l;(l=t.call(this,e,s)||this).startUpload=function(){return l.uppy.upload().catch(function(){})},l.id=l.opts.id||"StatusBar",l.title="StatusBar",l.type="progressindicator",l.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}};return l.opts=r({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0},{},s),l.i18nInit(),l.render=l.render.bind(o(l)),l.install=l.install.bind(o(l)),l}s(e,t);var l=e.prototype;return l.setOptions=function(e){t.prototype.setOptions.call(this,e),this.i18nInit()},l.i18nInit=function(){this.translator=new n([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},l.getTotalSpeed=function(t){var e=0;return t.forEach(function(t){e+=u(t.progress)}),e},l.getTotalETA=function(t){var e=this.getTotalSpeed(t);if(0===e)return 0;var r=t.reduce(function(t,e){return t+d(e.progress)},0);return Math.round(r/e*10)/10},l.getUploadingState=function(t,e,r){if(t)return p.STATE_ERROR;if(e)return p.STATE_COMPLETE;for(var o=p.STATE_WAITING,s=Object.keys(r),l=0;l<s.length;l++){var i=r[s[l]].progress;if(i.uploadStarted&&!i.uploadComplete)return p.STATE_UPLOADING;i.preprocess&&o!==p.STATE_UPLOADING&&(o=p.STATE_PREPROCESSING),i.postprocess&&o!==p.STATE_UPLOADING&&o!==p.STATE_PREPROCESSING&&(o=p.STATE_POSTPROCESSING)}return o},l.render=function(t){var e=t.capabilities,r=t.files,o=t.allowNewUpload,s=t.totalProgress,l=t.error,i=Object.keys(r).map(function(t){return r[t]}),n=i.filter(function(t){return!t.progress.uploadStarted&&!t.progress.preprocess&&!t.progress.postprocess}),p=i.filter(function(t){return t.progress.uploadStarted}).filter(function(t){return t.isPaused}),u=i.filter(function(t){return t.progress.uploadComplete}),d=i.filter(function(t){return t.error}),c=i.filter(function(t){return!t.progress.uploadComplete&&t.progress.uploadStarted}),h=c.filter(function(t){return!t.isPaused}),f=i.filter(function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess}),g=i.filter(function(t){return t.progress.preprocess||t.progress.postprocess}),m=this.getTotalETA(h),S=0,T=0;f.forEach(function(t){S+=t.progress.bytesTotal||0,T+=t.progress.bytesUploaded||0});var y=f.length>0,A=100===s&&u.length===Object.keys(r).length&&0===g.length,U=l&&d.length===i.length,P=0!==c.length&&p.length===c.length,E=c.length>0,O=e.resumableUploads||!1,_=!1!==e.uploadProgress;return a({error:l,uploadState:this.getUploadingState(U,A,t.files||{}),allowNewUpload:o,totalProgress:s,totalSize:S,totalUploadedSize:T,isAllComplete:A,isAllPaused:P,isAllErrored:U,isUploadStarted:y,isUploadInProgress:E,complete:u.length,newFiles:n.length,numUploads:f.length,totalETA:m,files:r,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:O,supportsUploadProgress:_,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},l.install=function(){var t=this.opts.target;t&&this.mount(t,this)},l.uninstall=function(){this.unmount()},e}(i),t.VERSION="1.7.0",e);
},{"@uppy/core":"l6tt","@uppy/utils/lib/Translator":"FB7b","./StatusBar":"sDiR","./StatusBarStates":"jU0g","@uppy/utils/lib/getSpeed":"KoKB","@uppy/utils/lib/getBytesRemaining":"DfeM"}],"QtDE":[function(require,module,exports) {
var t,o;function e(){return(e=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function r(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}var i=require("@uppy/core"),n=i.Plugin,p=require("preact"),a=p.h;module.exports=(o=t=function(t){function o(o,r){var i;(i=t.call(this,o,r)||this).render=function(t){var o=t.info,e=o.isHidden,r=o.message,n=o.details;return a("div",{class:"uppy uppy-Informer","aria-hidden":e},a("p",{role:"alert"},r," ",n&&a("span",{"aria-label":n,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onclick:function(){alert(r+" \n\n "+n)},onMouseOver:function(){clearTimeout(i.uppy.infoTimeoutID)},onMouseLeave:function(){i.uppy.infoTimeoutID=setTimeout(i.uppy.hideInfo,2e3)}},"?")))},i.type="progressindicator",i.id=i.opts.id||"Informer",i.title="Informer";return i.opts=e({},{},r),i}return r(o,t),o.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},o}(n),t.VERSION="1.5.7",o);
},{"@uppy/core":"l6tt","preact":"Lk0S"}],"qZAc":[function(require,module,exports) {
module.exports=function(t,e,l){var n=t.split(",")[1],r=e.mimeType||t.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var p,i=atob(n),a=[],o=0;o<i.length;o++)a.push(i.charCodeAt(o));try{p=new Uint8Array(a)}catch(u){return null}return l?new File([p],e.name||"",{type:r}):new Blob([p],{type:r})};
},{}],"YgTk":[function(require,module,exports) {
module.exports=function(e){return 0===e.indexOf("blob:")};
},{}],"cm7C":[function(require,module,exports) {
module.exports=function(e){if(!e)return!1;var t=e.split("/")[1];return!!/^(jpe?g|gif|png|svg|svg\+xml|bmp|webp)$/.test(t)};
},{}],"OO8K":[function(require,module,exports) {
"use strict";module.exports=Math.log2||function(t){return Math.log(t)*Math.LOG2E};
},{}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"FRly":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"Quj6":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"aqZJ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"aMB2":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"FRly","ieee754":"Quj6","isarray":"aqZJ","buffer":"aMB2"}],"b3hG":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var Buffer = require("buffer").Buffer;
var e,t=arguments[3],n=require("process"),r=require("buffer").Buffer;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof e&&e.amd?e("exifr",["exports"],n):n((t=t||self).exifr={})}(this,function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});var n=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(t).forEach(function(r){-1===n.indexOf(r)&&e[r]!==t[r]&&(e[r]=t[r])}),t&&h(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var y=Object.values||function(e){var t=[];for(var n in e)t.push(e[n]);return t},g=Object.entries||function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},k=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},m=Object.fromEntries||function(e){var t={};return b(e).forEach(function(e){var n=e[0],r=e[1];t[n]=r}),t},b=Array.from||function(e){if(e instanceof U){var t=[];return e.forEach(function(e,n){return t.push([n,e])}),t}return Array.prototype.slice.call(e)};function w(e){return-1!==this.indexOf(e)}Array.prototype.includes||(Array.prototype.includes=w),String.prototype.includes||(String.prototype.includes=w),String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,t+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.substring(t-e.length,t)===e});var A="undefined"!=typeof self?self:t,O=A.fetch||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var i=new XMLHttpRequest;if(i.open("get",e,!0),i.responseType="arraybuffer",i.onerror=r,t.headers)for(var s in t.headers)i.setRequestHeader(s,t.headers[s]);i.onload=function(){n({ok:i.status>=200&&i.status<300,status:i.status,arrayBuffer:function(){return Promise.resolve(i.response)}})},i.send(null)})},S=function(e){var t=[];if(Object.defineProperties(t,{size:{get:function(){return this.length}},has:{value:function(e){return-1!==this.indexOf(e)}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(e))for(var n=0;n<e.length;n++)t.add(e[n]);return t},P=function(e){return new U(e)},U=void 0!==A.Map&&void 0!==A.Map.prototype.keys?A.Map:function(){function e(t){if(i(this,e),this.clear(),t)for(var n=0;n<t.length;n++)this.set(t[n][0],t[n][1])}return a(e,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"get",value:function(e){return this._map["map_"+e]}},{key:"set",value:function(e,t){return this._map["map_"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this}},{key:"has",value:function(e){return this._keys.indexOf(e)>=0}},{key:"delete",value:function(e){var t=this._keys.indexOf(e);return!(t<0||(delete this._map["map_"+e],this._keys.splice(t,1),0))}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var e=this;return this._keys.map(function(t){return e.get(t)})}},{key:"entries",value:function(){var e=this;return this._keys.map(function(t){return[t,e.get(t)]})}},{key:"forEach",value:function(e,t){for(var n=0;n<this._keys.length;n++)e.call(t,this._map["map_"+this._keys[n]],this._keys[n],this)}},{key:"size",get:function(){return this._keys.length}}]),e}(),C="undefined"!=typeof self?self:t,x="undefined"!=typeof navigator,B=x&&"undefined"==typeof HTMLImageElement,j=!(void 0===t||void 0===n||!n.versions||!n.versions.node),_=C.Buffer,I=C.BigInt,V=!!_,T=function(e){return void 0!==e};function L(e){return void 0===e||(e instanceof U?0===e.size:0===y(e).filter(T).length)}function z(e){var t=new Error(e);return delete t.stack,t}function F(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var E="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;var D=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(i(this,e),"boolean"==typeof s&&(this.le=s),Array.isArray(t)&&(t=new Uint8Array(t)),0===t)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){void 0===r&&(r=t.byteLength-n);var a=new DataView(t,n,r);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){if(void 0===r&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength)throw z("Creating view outside of available memory in ArrayBuffer");var u=new DataView(t.buffer,n,r);this._swapDataView(u)}else{if("number"!=typeof t)throw z("Invalid input argument for BufferView: "+t);var o=new DataView(new ArrayBuffer(t));this._swapDataView(o)}}return a(e,null,[{key:"from",value:function(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}}]),a(e,[{key:"_swapArrayBuffer",value:function(e){this._swapDataView(new DataView(e))}},{key:"_swapBuffer",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:"_swapDataView",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:"_lengthToEnd",value:function(e){return this.byteLength-e}},{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),!(t instanceof Uint8Array))throw z("BufferView.set(): Invalid data argument.");return this.toUint8().set(t,n),new r(this,n,t.byteLength)}},{key:"subarray",value:function(t,n){return new e(this,t,n=n||this._lengthToEnd(t))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:"getString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;return function(e){return E?E.decode(e):V?r.from(e).toString("utf8"):decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}(this.getUint8Array(e,t))}},{key:"getUnicodeString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=[],r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return n.map(function(e){return String.fromCharCode(e)}).join("")}},{key:"getInt8",value:function(e){return this.dataView.getInt8(e)}},{key:"getUint8",value:function(e){return this.dataView.getUint8(e)}},{key:"getInt16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:"getInt32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:"getUint16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:"getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:"getFloat32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getUint64",value:function(e){var t=this.getUint32(e),n=this.getUint32(e+4);if(t<1048575)return t<<32|n;if(void 0!==typeof I)return console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),I(t)<<I(32)|I(n);throw z("Trying to read 64b value but JS can only handle 53b numbers.")}},{key:"getUintBytes",value:function(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64(e,n)}}},{key:"getUint",value:function(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64(e,n)}}},{key:"toString",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:"ensureChunk",value:function(){}}]),e}();function M(e,t){throw z("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}var N=function(e){function t(e){var n;return i(this,t),(n=p(this,f(t).call(this))).kind=e,n}return o(t,l(U)),a(t,[{key:"get",value:function(e,n){return this.has(e)||M(this.kind,e),n&&(e in n||function(e,t){throw z("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),n[e].enabled||M(this.kind,e)),v(f(t.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return b(this.keys())}}]),t}(),R=new N("file parser"),W=new N("segment parser"),K=new N("file reader");function X(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function H(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var Y=X(function(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result||new ArrayBuffer)},r.onerror=n,r.readAsArrayBuffer(e)})}),G=X(function(e){return O(e).then(function(e){return e.arrayBuffer()})}),J=X(function(e,t){return H(t(e),function(e){return new D(e)})}),q=X(function(e,t,n){var r=new(K.get(n))(e,t);return H(r.read(),function(){return r})}),Q=X(function(e,t,n,r){if(K.has(n))return q(e,t,n);if(r)return J(e,r);throw z("Parser ".concat(n," is not loaded"))});function Z(e,t){if((n=e).startsWith("data:")||n.length>1e4)return q(e,t,"base64");if(x)return Q(e,t,"url",G);if(j)return q(e,t,"fs");throw z("Invalid input argument");var n}var $=function(e){function t(){return i(this,t),p(this,f(t).apply(this,arguments))}return o(t,l(U)),a(t,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=b(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=b(this.values())),this.allValues}}]),t}();function ee(e,t,n){var r=new $,i=n;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++){var a=i[s],u=a[0],o=a[1];r.set(u,o)}if(Array.isArray(t)){var f=t;Array.isArray(f)||("function"==typeof f.entries&&(f=f.entries()),f=b(f));for(var h=0;h<f.length;h++){var c=f[h];e.set(c,r)}}else e.set(t,r);return r}function te(e,t,n){var r,i=e.get(t),s=n;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var a=0;a<s.length;a++)r=s[a],i.set(r[0],r[1])}var ne=P(),re=P(),ie=P(),se=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ae=["jfif","xmp","icc","iptc"],ue=["tiff"].concat(ae),oe=["ifd0","ifd1","exif","gps","interop"],fe=[].concat(ue,oe),he=["makerNote","userComment"],ce=["translateKeys","translateValues","reviveValues","multiSegment"],le=[].concat(ce,["sanitize","mergeOutput"]),de=function(){function e(){i(this,e)}return a(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),pe=function(e){function t(e,n,r,s){var a;if(i(this,t),u(d(a=p(this,f(t).call(this))),"enabled",!1),u(d(a),"skip",S()),u(d(a),"pick",S()),u(d(a),"deps",S()),u(d(a),"translateKeys",!1),u(d(a),"translateValues",!1),u(d(a),"reviveValues",!1),a.key=e,a.enabled=n,a.parse=a.enabled,a.applyInheritables(s),a.canBeFiltered=oe.includes(e),a.canBeFiltered&&(a.dict=ne.get(e)),void 0!==r)if(Array.isArray(r))a.parse=a.enabled=!0,a.canBeFiltered&&r.length>0&&a.translateTagSet(r,a.pick);else if("object"==typeof r){if(a.enabled=!0,a.parse=!1!==r.parse,a.canBeFiltered){var o=r.pick,h=r.skip;o&&o.length>0&&a.translateTagSet(o,a.pick),h&&h.length>0&&a.translateTagSet(h,a.skip)}a.applyInheritables(r)}else{if(!0!==r&&!1!==r)throw z("Invalid options argument: ".concat(r));a.parse=a.enabled=r}return a}return o(t,de),a(t,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}}]),a(t,[{key:"applyInheritables",value:function(e){var t,n,r=ce;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)void 0!==(n=e[t=r[i]])&&(this[t]=n)}},{key:"translateTagSet",value:function(e,t){if(this.dict){var n,r,i=this.dict,s=i.tagKeys,a=i.tagValues,u=e;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var o=0;o<u.length;o++)"string"==typeof(n=u[o])?(-1===(r=a.indexOf(n))&&(r=s.indexOf(Number(n))),-1!==r&&t.add(Number(s[r]))):t.add(n)}else{var f=e;Array.isArray(f)||("function"==typeof f.entries&&(f=f.entries()),f=b(f));for(var h=0;h<f.length;h++){var c=f[h];t.add(c)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,be(this.pick,this.deps)):this.enabled&&this.pick.size>0&&be(this.pick,this.deps)}}]),t}(),ve={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ye=P(),ge=function(e){function t(e){var n;if(i(this,t),n=p(this,f(t).call(this)),!0===e)n.setupFromTrue();else if(void 0===e)n.setupFromUndefined();else if(Array.isArray(e))n.setupFromArray(e);else{if("object"!=typeof e)throw z("Invalid options argument ".concat(e));n.setupFromObject(e)}return void 0===n.firstChunkSize&&(n.firstChunkSize=x?n.firstChunkSizeBrowser:n.firstChunkSizeNode),n.mergeOutput&&(n.ifd1.enabled=!1),n.filterNestedSegmentTags(),n.traverseTiffDependencyTree(),n.checkLoadedPlugins(),n}return o(t,de),a(t,null,[{key:"useCached",value:function(e){var t=ye.get(e);return void 0!==t?t:(t=new this(e),ye.set(e,t),t)}}]),a(t,[{key:"setupFromUndefined",value:function(){var e,t=se;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=b(t));for(var n=0;n<t.length;n++)this[e=t[n]]=ve[e];var r=le;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)this[e=r[i]]=ve[e];var s=he;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var a=0;a<s.length;a++)this[e=s[a]]=ve[e];var u=fe;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var o=0;o<u.length;o++)this[e=u[o]]=new pe(e,ve[e],void 0,this)}},{key:"setupFromTrue",value:function(){var e,t=se;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=b(t));for(var n=0;n<t.length;n++)this[e=t[n]]=ve[e];var r=le;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)this[e=r[i]]=ve[e];var s=he;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var a=0;a<s.length;a++)this[e=s[a]]=!0;var u=fe;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var o=0;o<u.length;o++)this[e=u[o]]=new pe(e,!0,void 0,this)}},{key:"setupFromArray",value:function(e){var t,n=se;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++)this[t=n[r]]=ve[t];var i=le;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++)this[t=i[s]]=ve[t];var a=he;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var u=0;u<a.length;u++)this[t=a[u]]=ve[t];var o=fe;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var f=0;f<o.length;f++)this[t=o[f]]=new pe(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,oe)}},{key:"setupFromObject",value:function(e){var t;oe.ifd0=oe.ifd0||oe.image,oe.ifd1=oe.ifd1||oe.thumbnail,k(this,e);var n=se;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++)this[t=n[r]]=me(e[t],ve[t]);var i=le;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++)this[t=i[s]]=me(e[t],ve[t]);var a=he;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var u=0;u<a.length;u++)this[t=a[u]]=me(e[t],ve[t]);var o=ue;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var f=0;f<o.length;f++)this[t=o[f]]=new pe(t,ve[t],e[t],this);var h=oe;Array.isArray(h)||("function"==typeof h.entries&&(h=h.entries()),h=b(h));for(var c=0;c<h.length;c++)this[t=h[c]]=new pe(t,ve[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,oe,fe),!0===e.tiff?this.batchEnableWithBool(oe,!0):!1===e.tiff?this.batchEnableWithUserValue(oe,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,oe):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,oe)}},{key:"batchEnableWithBool",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++)this[n[r]].enabled=t}},{key:"batchEnableWithUserValue",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],s=t[i];this[i].enabled=!1!==s&&void 0!==s}}},{key:"setupGlobalFilters",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(e&&e.length){var i=r;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++){this[i[s]].enabled=!1}var a=ke(e,n);Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var u=0;u<a.length;u++){var o=a[u],f=o[0],h=o[1];be(this[f].pick,h),this[f].enabled=!0}}else if(t&&t.length){var c=ke(t,n);Array.isArray(c)||("function"==typeof c.entries&&(c=c.entries()),c=b(c));for(var l=0;l<c.length;l++){var d=c[l],p=d[0],v=d[1];be(this[p].skip,v)}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,n=this.xmp,r=this.iptc,i=this.icc;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var e=this,t=this.ifd0,n=this.exif,r=this.gps;this.interop.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=oe.some(function(t){return!0===e[t].enabled})||this.makerNote||this.userComment;var i=oe;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++)this[i[s]].finalizeFilters()}},{key:"checkLoadedPlugins",value:function(){var e=ue;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=b(e));for(var t=0;t<e.length;t++){var n=e[t];this[n].enabled&&!W.has(n)&&M("segment parser",n)}}},{key:"onlyTiff",get:function(){var e=this;return!ae.map(function(t){return e[t].enabled}).some(function(e){return!0===e})&&this.tiff.enabled}}]),t}();function ke(e,t){var n,r,i,s=[],a=t;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var u=0;u<a.length;u++){r=a[u],n=[];var o=ne.get(r);Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var f=0;f<o.length;f++)i=o[f],(e.includes(i[0])||e.includes(i[1]))&&n.push(i[0]);n.length&&s.push([r,n])}return s}function me(e,t){return void 0!==e?e:void 0!==t?t:void 0}function be(e,t){var n=t;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r];e.add(i)}}u(ge,"default",ve);var we={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Ae=k({},we,{firstChunkSize:4e4,gps:[1,2,3,4]}),Oe=k({},we,{firstChunkSize:4e4,ifd0:[274]}),Se=k({},we,{tiff:!1,ifd1:!0,mergeOutput:!1});function Pe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ue(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function Ce(){}var xe=function(){function e(t){i(this,e),u(this,"parsers",{}),this.options=ge.useCached(t)}return a(e,[{key:"setup",value:function(){if(!this.fileParser){var e,t=this.file.getUint16(0);if(18761===t||19789===t)this.file.isTiff=!0,e=R.get("tiff");else if(65496===t)this.file.isJpeg=!0,e=R.get("jpeg");else{if(!function(e){if(0!==e.getUint16(0))return!1;var t=e.getUint16(2);if(t>50)return!1;for(var n=16,r=[];n<t;)r.push(e.getString(n,4)),n+=4;return r.includes("heic")}(this.file))throw z("Unknown file format");this.file.isHeic=!0,e=R.get("heic")}this.fileParser=new e(this.options,this.file,this.parsers)}}},{key:"read",value:function(e){try{var t=this;return Pe(function(e,t){if("string"==typeof e)return Z(e,t);if(x&&!B&&e instanceof HTMLImageElement)return Z(e.src,t);if(e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView)return new D(e);if(x&&e instanceof Blob)return Q(e,t,"blob",Y);throw z("Invalid input argument")}(e,t.options),function(e){t.file=e})}catch(e){return Promise.reject(e)}}},{key:"parse",value:function(){try{var e=this;return e.setup(),Pe(e.fileParser.parse(),function(){var t,n={},r=[],i=y(e.parsers).map((t=function(t){var i;return Ue(function(){return e.options.silentErrors?(s=function(){t.errors.length&&r.push.apply(r,t.errors)},(n=function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return Pe(t.parse(),function(e){i=e})},function(e){r.push(e)}))&&n.then?n.then(s):s()):Pe(t.parse(),function(e){i=e});var n,s},function(){t.assignToOutput(n,i)})},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(e){return Promise.reject(e)}}));return Pe(Promise.all(i),function(){var t;return e.options.silentErrors&&r.length>0&&(n.errors=r),n=L(t=n)?void 0:t,e.file.close&&e.file.close(),n})})}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;e.setup();var t,n=W.get("tiff",e.options);return Ue(function(){if(!e.file.isTiff)return function(e){var t=e();if(t&&t.then)return t.then(Ce)}(function(){if(e.file.isJpeg)return Pe(e.fileParser.getOrFindSegment("tiff"),function(e){t=e})});t={start:0,type:"tiff"}},function(){if(void 0!==t)return Pe(e.fileParser.ensureSegmentChunk(t),function(t){return Pe((e.parsers.tiff=new n(t,e.options,e.file)).extractThumbnail(),function(t){return e.file.close&&e.file.close(),t})})})}catch(e){return Promise.reject(e)}}}]),e}();function Be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function je(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var _e=function(t){return Be(Ie(t),function(t){return k({canvas:e.rotateCanvas,css:e.rotateCss},Fe[t])})},Ie=je(function(e){var t=new xe(Oe);return Be(t.read(e),function(){return Be(t.parse(),function(e){if(e&&e.ifd0)return e.ifd0[274]})})}),Ve=je(function(e){var t=new xe(Ae);return Be(t.read(e),function(){return Be(t.parse(),function(e){if(e&&e.gps){var t=e.gps;return{latitude:t.latitude,longitude:t.longitude}}})})}),Te=je(function(e){return Be(this.thumbnail(e),function(e){if(void 0!==e){var t=new Blob([e]);return URL.createObjectURL(t)}})}),Le=je(function(e){var t=new xe(Se);return Be(t.read(e),function(){return Be(t.extractThumbnail(),function(e){return e&&V?_.from(e):e})})}),ze=je(function(e,t){var n=new xe(t);return Be(n.read(e),function(){return n.parse()})}),Fe={1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}};if(e.rotateCanvas=!0,e.rotateCss=!0,"object"==typeof navigator){var Ee=navigator.userAgent;if(Ee.includes("iPad")||Ee.includes("iPhone")){var De=Ee.match(/OS (\d+)_(\d+)/),Me=(De[0],De[1]),Ne=De[2],Re=Number(Me)+.1*Number(Ne);e.rotateCanvas=Re<13.4,e.rotateCss=!1}if(Ee.includes("Chrome/")){var We=Ee.match(/Chrome\/(\d+)/),Ke=(We[0],We[1]);Number(Ke)>=81&&(e.rotateCanvas=e.rotateCss=!1)}}var Xe=Object.freeze({__proto__:null,rotation:_e,orientation:Ie,gps:Ve,thumbnailUrl:Te,thumbnail:Le,parse:ze,rotations:Fe,get rotateCanvas(){return e.rotateCanvas},get rotateCss(){return e.rotateCss},Exifr:xe,fileParsers:R,segmentParsers:W,fileReaders:K,tagKeys:ne,tagValues:re,tagRevivers:ie,createDictionary:ee,extendDictionary:te,fetchUrlAsArrayBuffer:G,readBlobAsArrayBuffer:Y,chunkedProps:se,otherSegments:ae,segments:ue,tiffBlocks:oe,segmentsAndBlocks:fe,tiffExtractables:he,inheritables:ce,allFormatters:le,Options:ge,disableAllOptions:we,gpsOnlyOptions:Ae,orientationOnlyOptions:Oe,thumbnailOnlyOptions:Se});function He(){}var Ye=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return u(d(n=p(this,(e=f(t)).call.apply(e,[this].concat(s)))),"ranges",new Ge),0!==n.byteLength&&n.ranges.add(0,n.byteLength),n}return o(t,D),a(t,[{key:"_tryExtend",value:function(e,t,n){if(0===e&&0===this.byteLength&&n){var r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{var i=e+t;if(i>this.byteLength){var s=this._extend(i).dataView;this._swapDataView(s)}}}},{key:"_extend",value:function(e){var t;t=V?_.allocUnsafe(e):new Uint8Array(e);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}},{key:"subarray",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),v(f(t.prototype),"subarray",this).call(this,e,n)}},{key:"set",value:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this._tryExtend(n,e.byteLength,e);var r=v(f(t.prototype),"set",this).call(this,e,n);return this.ranges.add(n,r.byteLength),r}},{key:"ensureChunk",value:function(e,t){try{if(!this.chunked)return;if(this.ranges.available(e,t))return;return function(e,t){return e&&e.then?e.then(He):Promise.resolve()}(this.readChunk(e,t))}catch(e){return Promise.reject(e)}}},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),t}(),Ge=function(){function e(){i(this,e),u(this,"list",[])}return a(e,[{key:"add",value:function(e,t){var n=e+t,r=this.list.filter(function(t){return Je(e,t.offset,n)||Je(e,t.end,n)});if(r.length>0){e=Math.min.apply(Math,[e].concat(r.map(function(e){return e.offset}))),t=(n=Math.max.apply(Math,[n].concat(r.map(function(e){return e.end}))))-e;var i=r.shift();i.offset=e,i.length=t,i.end=n,this.list=this.list.filter(function(e){return!r.includes(e)})}else this.list.push({offset:e,length:t,end:n})}},{key:"available",value:function(e,t){var n=e+t;return this.list.some(function(t){return t.offset<=e&&n<=t.end})}},{key:"length",get:function(){return this.list.length}}]),e}();function Je(e,t,n){return e<=t&&t<=n}function qe(){}function Qe(e,t){if(!t)return e&&e.then?e.then(qe):Promise.resolve()}function Ze(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var $e=function(e){function t(){return i(this,t),p(this,f(t).apply(this,arguments))}return o(t,e),a(t,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,Ze(Y(e.input),function(t){e._swapArrayBuffer(t)})}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,v(f(t.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(e,t){try{var n=this,r=t?e+t:void 0,i=n.input.slice(e,r);return Ze(Y(i),function(t){return n.set(t,e,!0)})}catch(e){return Promise.reject(e)}}}]),t}(function(e){function t(e,n){var r;return i(this,t),u(d(r=p(this,f(t).call(this,0))),"chunksRead",0),r.input=e,r.options=n,r}return o(t,Ye),a(t,[{key:"readWhole",value:function(){try{return this.chunked=!1,Qe(this.readChunk(this.nextChunkOffset))}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){try{return this.chunked=!0,Qe(this.readChunk(0,this.options.firstChunkSize))}catch(e){return Promise.reject(e)}}},{key:"readNextChunk",value:function(e){try{if(void 0===e&&(e=this.nextChunkOffset),this.fullyRead)return this.chunksRead++,!1;var t=this.options.chunkSize;return n=this.readChunk(e,t),r=function(e){return!!e&&e.byteLength===t},n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n}catch(e){return Promise.reject(e)}var n,r}},{key:"readChunk",value:function(e,t){try{if(this.chunksRead++,0===(t=this.safeWrapAddress(e,t)))return;return this._readChunk(e,t)}catch(e){return Promise.reject(e)}}},{key:"safeWrapAddress",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}},{key:"nextChunkOffset",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}}]),t}());K.set("blob",$e);var et=function(){function e(t,n,r){var s,a=this;i(this,e),u(this,"ensureSegmentChunk",(s=function(e){var t,n,r,i=e.start,s=e.size||65536;return t=function(){if(a.file.chunked)return function(){if(!a.file.available(i,s))return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return n=function(t){e.chunk=t},(t=a.file.readChunk(i,s))&&t.then||(t=Promise.resolve(t)),n?t.then(n):t;var t,n},function(t){throw z("Couldn't read segment: ".concat(JSON.stringify(e),". ").concat(t.message))});e.chunk=a.file.subarray(i,s)}();if(a.file.byteLength>i+s)e.chunk=a.file.subarray(i,s);else{if(void 0!==e.size)throw z("Segment unreachable: "+JSON.stringify(e));e.chunk=a.file.subarray(i)}},n=function(t){return e.chunk},(r=t())&&r.then?r.then(n):n()},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(s.apply(this,e))}catch(e){return Promise.reject(e)}})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}return a(e,[{key:"createParser",value:function(e,t){var n=new(W.get(e))(t,this.options,this.file);return this.parsers[e]=n}}]),e}(),tt=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;i(this,e),u(this,"errors",[]),u(this,"raw",P()),u(this,"handleError",function(e){if(!n.options.silentErrors)throw e;n.errors.push(e.message)}),this.chunk=this.normalizeInput(t),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return a(e,[{key:"normalizeInput",value:function(e){return e instanceof D?e:new D(e)}}],[{key:"findPosition",value:function(e,t){var n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,s=n-r;return{offset:t,length:n,headerLength:r,start:i,size:s,end:i+s}}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(e,new ge(u({},this.type,t))).parse()}}]),a(e,[{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"translateBlock",value:function(e,t){var n=ie.get(t),r=re.get(t),i=ne.get(t),s=this.options[t],a=s.reviveValues&&!!n,u=s.translateValues&&!!r,o=s.translateKeys&&!!i,f={},h=e;Array.isArray(h)||("function"==typeof h.entries&&(h=h.entries()),h=b(h));for(var c=0;c<h.length;c++){var l=h[c],d=l[0],p=l[1];a&&n.has(d)?p=n.get(d)(p):u&&r.has(d)&&(p=this.translateValue(p,r.get(d))),o&&i.has(d)&&(d=i.get(d)||d),f[d]=p}return f}},{key:"translateValue",value:function(e,t){return t[e]||e}},{key:"assignToOutput",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:"assignObjectToOutput",value:function(e,t,n){if(this.globalOptions.mergeOutput)return k(e,n);e[t]?k(e[t],n):e[t]=n}},{key:"output",get:function(){return this.translated?this.translated:this.raw?m(this.raw):void 0}}]),e}();function nt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function rt(){}function it(e,t){if(!t)return e&&e.then?e.then(rt):Promise.resolve()}function st(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function at(e,t,n){if(!e.s){if(n instanceof ut){if(!n.s)return void(n.o=at.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(at.bind(null,e,t),at.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}u(tt,"headerLength",4),u(tt,"type",void 0),u(tt,"multiSegment",!1),u(tt,"canHandle",function(){return!1});var ut=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var s=1&i?t:n;if(s){try{at(r,1,s(this.v))}catch(e){at(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?at(r,1,t?t(i):i):n?at(r,1,n(i)):at(r,2,i)}catch(e){at(r,2,e)}},r},e}();function ot(e){return e instanceof ut&&1&e.s}function ft(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function ht(e){return e>=224&&e<=239}function ct(e,t){var n=W;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],s=i[0];if(i[1].canHandle(e,t))return s}}var lt=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return u(d(n=p(this,(e=f(t)).call.apply(e,[this].concat(s)))),"appSegments",[]),u(d(n),"jpegSegments",[]),u(d(n),"unknownSegments",[]),n}return o(t,et),a(t,[{key:"parse",value:function(){try{var e=this;return nt(e.findAppSegments(),function(){return nt(e.readSegments(),function(){e.mergeMultiSegments(),e.createParsers()})})}catch(e){return Promise.reject(e)}}},{key:"readSegments",value:function(){try{var e=this.appSegments.map(this.ensureSegmentChunk);return it(Promise.all(e))}catch(e){return Promise.reject(e)}}},{key:"setupSegmentFinderArgs",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=S(W.keyList())):(e=void 0===e?W.keyList().filter(function(e){return t.options[e].enabled}):e.filter(function(e){return t.options[e].enabled&&W.has(e)}),this.findAll=!1,this.remaining=S(e),this.wanted=S(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var n=this;n.setupSegmentFinderArgs(t);var r=n.file,i=n.findAll,s=n.wanted,a=n.remaining;return st(function(){if(!i&&n.file.chunked)return i=b(s).some(function(e){var t=W.get(e),r=n.options[e];return t.multiSegment&&r.multiSegment}),function(e){var t=e();if(t&&t.then)return t.then(rt)}(function(){if(i)return it(n.file.readWhole())})},function(){var t=!1;if(e=n._findAppSegments(e,r.byteLength,i,s,a),!n.options.onlyTiff)return function(){if(r.chunked){var i=!1;return function(e,t,n){for(var r;;){var i=e();if(ot(i)&&(i=i.v),!i)return s;if(i.then){r=0;break}var s=n();if(s&&s.then){if(!ot(s)){r=1;break}s=s.s}if(t){var a=t();if(a&&a.then&&!ot(a)){r=2;break}}}var u=new ut,o=at.bind(null,u,2);return(0===r?i.then(h):1===r?s.then(f):a.then(c)).then(void 0,o),u;function f(r){s=r;do{if(t&&(a=t())&&a.then&&!ot(a))return void a.then(c).then(void 0,o);if(!(i=e())||ot(i)&&!i.v)return void at(u,1,s);if(i.then)return void i.then(h).then(void 0,o);ot(s=n())&&(s=s.v)}while(!s||!s.then);s.then(f).then(void 0,o)}function h(e){e?(s=n())&&s.then?s.then(f).then(void 0,o):f(s):at(u,1,s)}function c(){(i=e())?i.then?i.then(h).then(void 0,o):h(i):at(u,1,s)}}(function(){return!t&&a.size>0&&!i&&(!!r.canReadNextChunk||!!n.unfinishedMultiSegment)},void 0,function(){var s=r.nextChunkOffset,a=n.appSegments.some(function(e){return!n.file.available(e.offset||e.start,e.length||e.size)});return st(function(){return nt(e>s&&!a?r.readNextChunk(e):r.readNextChunk(s),function(e){i=!e})},function(){void 0===(e=n._findAppSegments(e,r.byteLength))&&(t=!0)})})}}()})}catch(e){return Promise.reject(e)}}},{key:"_findAppSegments",value:function(e,t){for(var n,r,i,s,a,u,o=this.file,f=this.findAll,h=this.wanted,c=this.remaining,l=this.options;e<t;e++)if(255===o.getUint8(e))if(ht(n=o.getUint8(e+1))){if(r=o.getUint16(e+2),(i=ct(o,e))&&h.has(i)&&(a=(s=W.get(i)).findPosition(o,e),u=l[i],a.type=i,this.appSegments.push(a),!f&&(s.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||c.delete(i)):c.delete(i),0===c.size)))break;l.recordUnknownSegments&&((a=tt.findPosition(o,e)).marker=n,this.unknownSegments.push(a)),e+=r+1}else if(ft(n)){if(r=o.getUint16(e+2),218===n&&!1!==l.stopAfterSos)return;l.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}},{key:"mergeMultiSegments",value:function(){var e=this;if(this.appSegments.some(function(e){return e.multiSegment})){var t=function(e,t){for(var n,r,i,s=P(),a=0;a<e.length;a++)r=(n=e[a]).type,s.has(r)?i=s.get(r):s.set(r,i=[]),i.push(n);return b(s)}(this.appSegments);this.mergedAppSegments=t.map(function(t){var n=t[0],r=t[1],i=W.get(n,e.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}}},{key:"createParsers",value:function(){try{var e=this.mergedAppSegments||this.appSegments;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=b(e));for(var t=0;t<e.length;t++){var n=e[t],r=n.type,i=n.chunk;if(this.options[r].enabled){var s=this.parsers[r];if(s&&s.append);else if(!s){var a=new(W.get(r,this.options))(i,this.options,this.file);this.parsers[r]=a}}}return nt()}catch(e){return Promise.reject(e)}}},{key:"getSegment",value:function(e){return this.appSegments.find(function(t){return t.type===e})}},{key:"getOrFindSegment",value:function(e){try{var t=this,n=t.getSegment(e);return st(function(){if(void 0===n)return nt(t.findAppSegments(0,[e]),function(){n=t.getSegment(e)})},function(){return n})}catch(e){return Promise.reject(e)}}}]),t}();function dt(){}function pt(e,t){if(!t)return e&&e.then?e.then(dt):Promise.resolve()}function vt(e,t){var n=e();return n&&n.then?n.then(t):t(n)}R.set("jpeg",lt);var yt=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],gt=function(e){function t(){return i(this,t),p(this,f(t).apply(this,arguments))}return o(t,e),a(t,[{key:"parse",value:function(){try{var e=this;return e.parseHeader(),vt(function(){if(e.options.ifd0.enabled)return pt(e.parseIfd0Block())},function(){return vt(function(){if(e.options.exif.enabled)return pt(e.saveParseBlock("parseExifBlock"))},function(){return vt(function(){if(e.options.gps.enabled)return pt(e.saveParseBlock("parseGpsBlock"))},function(){return vt(function(){if(e.options.interop.enabled)return pt(e.saveParseBlock("parseInteropBlock"))},function(){return vt(function(){if(e.options.ifd1.enabled)return pt(e.saveParseBlock("parseThumbnailBlock"))},function(){return e.createOutput()})})})})})}catch(e){return Promise.reject(e)}}},{key:"saveParseBlock",value:function(e){try{var t=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return(n=t[e]())&&n.then||(n=Promise.resolve(n)),n;var n},function(e){t.handleError(e)})}catch(e){return Promise.reject(e)}}},{key:"findIfd0Offset",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var n=P();return this[t]=n,this.parseTags(e,t,n),n}},{key:"parseIfd0Block",value:function(){try{var e=this;if(e.ifd0)return;if(e.findIfd0Offset(),e.ifd0Offset<8)throw z("Invalid EXIF data: IFD0 offset should be less than 8");if(!e.file.chunked&&e.ifd0Offset>e.file.byteLength)throw z("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(e.ifd0Offset,", file.byteLength: ").concat(e.file.byteLength));return vt(function(){if(e.file.isTiff)return pt(e.file.ensureChunk(e.ifd0Offset,F(e.options)))},function(){var t=e.parseBlock(e.ifd0Offset,"ifd0");if(0!==t.size)return e.exifOffset=t.get(34665),e.interopOffset=t.get(40965),e.gpsOffset=t.get(34853),e.xmp=t.get(700),e.iptc=t.get(33723),e.icc=t.get(34675),e.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t})}catch(e){return Promise.reject(e)}}},{key:"ensureBlockChunk",value:function(e,t){try{var n=this;return vt(function(){if(n.file.isTiff)return pt(n.file.ensureChunk(e,t))},function(){e>n.chunk.byteLength&&(n.chunk=D.from(n.file,n.le))})}catch(e){return Promise.reject(e)}}},{key:"parseExifBlock",value:function(){try{var e=this;if(e.exif)return;return vt(function(){if(!e.ifd0)return pt(e.parseIfd0Block())},function(){if(void 0!==e.exifOffset)return vt(function(){if(e.file.isTiff)return pt(e.file.ensureChunk(e.exifOffset,F(e.options)))},function(){var t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(40965)),e.makerNote=t.get(37500),e.userComment=t.get(37510),e.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),e.unpack(t,41728),e.unpack(t,41729),t})})}catch(e){return Promise.reject(e)}}},{key:"unpack",value:function(e,t){var n=e.get(t);n&&1===n.length&&e.set(t,n[0])}},{key:"parseGpsBlock",value:function(){try{var e=this;if(e.gps)return;return vt(function(){if(!e.ifd0)return pt(e.parseIfd0Block())},function(){if(void 0!==e.gpsOffset){var t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",kt.apply(void 0,t.get(2).concat([t.get(1)]))),t.set("longitude",kt.apply(void 0,t.get(4).concat([t.get(3)])))),t}})}catch(e){return Promise.reject(e)}}},{key:"parseInteropBlock",value:function(){try{var e=this;if(e.interop)return;return vt(function(){if(!e.ifd0)return pt(e.parseIfd0Block())},function(){return vt(function(){if(void 0===e.interopOffset&&!e.exif)return pt(e.parseExifBlock())},function(){if(void 0!==e.interopOffset)return e.parseBlock(e.interopOffset,"interop")})})}catch(e){return Promise.reject(e)}}},{key:"parseThumbnailBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=this;if(t.ifd1||t.ifd1Parsed)return;if(t.options.mergeOutput&&!e)return;return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;return e.headerParsed||e.parseHeader(),vt(function(){if(!e.ifd1Parsed)return pt(e.parseThumbnailBlock(!0))},function(){if(void 0!==e.ifd1){var t=e.ifd1.get(513),n=e.ifd1.get(514);return e.chunk.getUint8Array(t,n)}})}catch(e){return Promise.reject(e)}}},{key:"createOutput",value:function(){var e,t,n,r={},i=oe;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var s=0;s<i.length;s++)if(!L(e=this[t=i[s]]))if(n=this.canTranslate?this.translateBlock(e,t):m(e),this.options.mergeOutput){if("ifd1"===t)continue;k(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)k(e,t);else{var n=g(t);Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],s=i[0],a=i[1];this.assignObjectToOutput(e,s,a)}}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}}],[{key:"canHandle",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),t}(function(e){function t(){return i(this,t),p(this,f(t).apply(this,arguments))}return o(t,tt),a(t,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();if(18761===e)this.le=!0;else{if(19789!==e)throw z("Invalid EXIF data: expected byte order marker (0x4949 or 0x4D4D).");this.le=!1}if(this.chunk.le=this.le,42!==this.chunk.getUint16(2))throw z("Invalid EXIF data: expected 0x002A.");this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P(),r=this.options[t],i=r.pick,s=r.skip,a=(i=S(i)).size>0,u=0===s.size,o=this.chunk.getUint16(e);e+=2;for(var f=0;f<o;f++){var h=this.chunk.getUint16(e);if(a){if(i.has(h)&&(n.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!u&&s.has(h)||n.set(h,this.parseTag(e,h,t));e+=12}return n}},{key:"parseTag",value:function(e,t,n){var r,i=this.chunk.getUint16(e+2),s=this.chunk.getUint32(e+4),a=yt[i];if(a*s<=4?e+=8:e=this.chunk.getUint32(e+8),i<1||i>13)throw z("Invalid TIFF value type. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(i,", offset ").concat(e));if(e>this.chunk.byteLength)throw z("Invalid TIFF value offset. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(i,", offset ").concat(e," is outside of chunk size ").concat(this.chunk.byteLength));if(1===i)return this.chunk.getUint8Array(e,s);if(2===i)return""===(r=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(r=this.chunk.getString(e,s)).trim())?void 0:r;if(7===i)return this.chunk.getUint8Array(e,s);if(1===s)return this.parseTagValue(i,e);for(var u=new(function(e){switch(i){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}())(s),o=a,f=0;f<s;f++)u[f]=this.parseTagValue(i,e),e+=o;return u}},{key:"parseTagValue",value:function(e,t){switch(e){case 1:return this.chunk.getUint8(t);case 3:return this.chunk.getUint16(t);case 4:return this.chunk.getUint32(t);case 5:return this.chunk.getUint32(t)/this.chunk.getUint32(t+4);case 6:return this.chunk.getInt8(t);case 8:return this.chunk.getInt16(t);case 9:return this.chunk.getInt32(t);case 10:return this.chunk.getInt32(t)/this.chunk.getInt32(t+4);case 11:return this.chunk.getFloat(t);case 12:return this.chunk.getDouble(t);case 13:return this.chunk.getUint32(t);default:throw z("Invalid tiff type ".concat(e))}}}]),t}());function kt(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}u(gt,"type","tiff"),u(gt,"headerLength",10),W.set("tiff",gt),e.Exifr=xe,e.Options=ge,e.allFormatters=le,e.chunkedProps=se,e.createDictionary=ee,e.default=Xe,e.disableAllOptions=we,e.extendDictionary=te,e.fetchUrlAsArrayBuffer=G,e.fileParsers=R,e.fileReaders=K,e.gps=Ve,e.gpsOnlyOptions=Ae,e.inheritables=ce,e.orientation=Ie,e.orientationOnlyOptions=Oe,e.otherSegments=ae,e.parse=ze,e.readBlobAsArrayBuffer=Y,e.rotation=_e,e.rotations=Fe,e.segmentParsers=W,e.segments=ue,e.segmentsAndBlocks=fe,e.tagKeys=ne,e.tagRevivers=ie,e.tagValues=re,e.thumbnail=Le,e.thumbnailOnlyOptions=Se,e.thumbnailUrl=Te,e.tiffBlocks=oe,e.tiffExtractables=he,Object.defineProperty(e,"__esModule",{value:!0})});
},{"process":"g5IB","buffer":"aMB2"}],"saop":[function(require,module,exports) {
var e,t;function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=require("@uppy/core"),o=r.Plugin,a=require("@uppy/utils/lib/Translator"),u=require("@uppy/utils/lib/dataURItoBlob"),s=require("@uppy/utils/lib/isObjectURL"),h=require("@uppy/utils/lib/isPreviewSupported"),l=require("math-log2"),p=require("exifr/dist/mini.legacy.umd.js");module.exports=(t=e=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onFileAdded=function(e){e.preview||!h(e.type)||e.isRemote||r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&s(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){var e=r.uppy.getState().files;Object.keys(e).forEach(function(e){var t=r.uppy.getFile(e);t.isRestored&&(t.preview&&!s(t.preview)||r.addToQueue(t.id))})},r.waitUntilAllProcessed=function(e){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})});var t=function(){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)})};return new Promise(function(e,i){r.queueProcessing?r.uppy.once("thumbnail:all-generated",function(){t(),e()}):(t(),e())})},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.defaultLocale={strings:{generatingThumbnails:"Generating thumbnails..."}};if(r.opts=i({},{thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1},{},n),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r.i18nInit(),r}n(t,e);var r=t.prototype;return r.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},r.i18nInit=function(){this.translator=new a([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},r.createThumbnail=function(e,t,i){var n=this,r=URL.createObjectURL(e.data),o=new Promise(function(e,t){var i=new Image;i.src=r,i.addEventListener("load",function(){URL.revokeObjectURL(r),e(i)}),i.addEventListener("error",function(e){URL.revokeObjectURL(r),t(e.error||new Error("Could not create thumbnail"))})}),a=p.rotation(e.data).catch(function(e){return 1});return Promise.all([o,a]).then(function(e){var r=e[0],o=e[1],a=n.getProportionalDimensions(r,t,i,o.deg),u=n.rotateImage(r,o),s=n.resizeImage(u,a.width,a.height);return n.canvasToBlob(s,"image/jpeg",80)}).then(function(e){return URL.createObjectURL(e)})},r.getProportionalDimensions=function(e,t,i,n){var r=e.width/e.height;return 90!==n&&270!==n||(r=e.height/e.width),null!=t?{width:t,height:Math.round(t/r)}:null!=i?{width:Math.round(i*r),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/r)}},r.protect=function(e){var t=e.width/e.height,i=Math.floor(Math.sqrt(5e6*t)),n=Math.floor(5e6/Math.sqrt(5e6*t));if(i>4096&&(i=4096,n=Math.round(i/t)),n>4096&&(n=4096,i=Math.round(t*n)),e.width>i){var r=document.createElement("canvas");r.width=i,r.height=n,r.getContext("2d").drawImage(e,0,0,i,n),e=r}return e},r.resizeImage=function(e,t,i){e=this.protect(e);var n=Math.ceil(l(e.width/t));n<1&&(n=1);for(var r=t*Math.pow(2,n-1),o=i*Math.pow(2,n-1);n--;){var a=document.createElement("canvas");a.width=r,a.height=o,a.getContext("2d").drawImage(e,0,0,r,o),e=a,r=Math.round(r/2),o=Math.round(o/2)}return e},r.rotateImage=function(e,t){var i=e.width,n=e.height;90!==t.deg&&270!==t.deg||(i=e.height,n=e.width);var r=document.createElement("canvas");r.width=i,r.height=n;var o=r.getContext("2d");return o.translate(i/2,n/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),r},r.canvasToBlob=function(e,t,i){try{e.getContext("2d").getImageData(0,0,1,1)}catch(n){if(18===n.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(function(n){e.toBlob(n,t,i)}).then(function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e}):Promise.resolve().then(function(){return u(e.toDataURL(t,i),{})}).then(function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e})},r.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},r.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},r.processQueue=function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()}):void this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error")}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")},r.requestThumbnail=function(e){var t=this;return h(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(i){t.setPreviewURL(e.id,i),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for "+e.id),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),i)}).catch(function(i){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for "+e.id+":","warning"),t.uppy.log(i,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),i)}):Promise.resolve()},r.install=function(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},r.uninstall=function(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},t}(o),e.VERSION="1.6.2",t);
},{"@uppy/core":"l6tt","@uppy/utils/lib/Translator":"FB7b","@uppy/utils/lib/dataURItoBlob":"qZAc","@uppy/utils/lib/isObjectURL":"YgTk","@uppy/utils/lib/isPreviewSupported":"cm7C","math-log2":"OO8K","exifr/dist/mini.legacy.umd.js":"b3hG"}],"C33p":[function(require,module,exports) {
var e=require("./isDOMElement");module.exports=function(r){if("string"==typeof r){var t=[].slice.call(document.querySelectorAll(r));return t.length>0?t:null}if("object"==typeof r&&e(r))return[r]};
},{"./isDOMElement":"Yq3O"}],"ZcYx":[function(require,module,exports) {
module.exports=function(r){return Array.prototype.slice.call(r||[],0)};
},{}],"FdlB":[function(require,module,exports) {
module.exports=function(l){return l.fullPath&&l.fullPath!=="/"+l.name?l.fullPath:null};
},{}],"LXM2":[function(require,module,exports) {
module.exports=function n(c,o,t,e){var u=e.onSuccess;c.readEntries(function(e){var s=[].concat(o,e);e.length?setTimeout(function(){n(c,s,t,{onSuccess:u})},0):u(s)},function(n){t(n),u(o)})};
},{}],"WE90":[function(require,module,exports) {
var e=require("../../../toArray"),r=require("./getRelativePath"),t=require("./getFilesAndDirectoriesFromDirectory");module.exports=function(i,n){var o=[],u=[];return e(i.items).forEach(function(e){var i=e.webkitGetAsEntry();i&&u.push(function e(i){return new Promise(function(u){if(i.isFile)i.file(function(e){e.relativePath=r(i),o.push(e),u()},function(e){n(e),u()});else if(i.isDirectory){var c=i.createReader();t(c,[],n,{onSuccess:function(r){var t=r.map(function(r){return e(r)});Promise.all(t).then(function(){return u()})}})}})}(i))}),Promise.all(u).then(function(){return o})};
},{"../../../toArray":"ZcYx","./getRelativePath":"FdlB","./getFilesAndDirectoriesFromDirectory":"LXM2"}],"tuoq":[function(require,module,exports) {
var r=require("../../toArray");module.exports=function(e){var o=r(e.files);return Promise.resolve(o)};
},{"../../toArray":"ZcYx"}],"yq04":[function(require,module,exports) {
var i=require("./utils/webkitGetAsEntryApi/index"),e=require("./utils/fallbackApi");module.exports=function(r,t){var n=(void 0===t?{}:t).logDropError,o=void 0===n?function(){}:n;return r.items&&r.items[0]&&"webkitGetAsEntry"in r.items[0]?i(r,o):e(r)};
},{"./utils/webkitGetAsEntryApi/index":"WE90","./utils/fallbackApi":"tuoq"}],"OYdf":[function(require,module,exports) {
module.exports=function(e,r){if(r){var t=e.querySelector('[data-uppy-paneltype="'+r+'"]');if(t)return t}return e};
},{}],"WSky":[function(require,module,exports) {
module.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];
},{}],"NKfx":[function(require,module,exports) {
var e=require("@uppy/utils/lib/toArray"),t=require("./getActiveOverlayEl"),n=require("@uppy/utils/lib//FOCUSABLE_ELEMENTS");function u(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function r(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}function i(e){return e.contains(document.activeElement)}function l(l,o,c){var f=t(c,o),a=e(f.querySelectorAll(n)),v=a.indexOf(document.activeElement);i(f)?l.shiftKey&&0===v?r(l,a):l.shiftKey||v!==a.length-1||u(l,a):u(l,a)}module.exports={forModal:function(e,t,n){l(e,t,n)},forInline:function(e,t,n){null===t||l(e,t,n)}};
},{"@uppy/utils/lib/toArray":"ZcYx","./getActiveOverlayEl":"OYdf","@uppy/utils/lib//FOCUSABLE_ELEMENTS":"WSky"}],"SoEZ":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},o=2;function s(t,e){var n=!1,r=!1,s=0;function c(){n&&(n=!1,t()),r&&h()}function a(){i(c)}function h(){var t=Date.now();if(n){if(t-s<o)return;r=!0}else n=!0,r=!1,setTimeout(a,e);s=t}return h}var c=20,a=["top","right","bottom","left","width","height","size","weight"],h="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},p=E(0,0,0,0);function v(t){return parseFloat(t)||0}function _(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+v(t["border-"+n+"-width"])},0)}function l(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=v(o)}return e}function b(t){var e=t.getBBox();return E(0,0,e.width,e.height)}function m(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=d(t).getComputedStyle(t),i=l(r),o=i.left+i.right,s=i.top+i.bottom,c=v(r.width),a=v(r.height);if("border-box"===r.boxSizing&&(Math.round(c+o)!==e&&(c-=_(r,"left","right")+o),Math.round(a+s)!==n&&(a-=_(r,"top","bottom")+s)),!w(t)){var h=Math.round(c+o)-e,u=Math.round(a+s)-n;1!==Math.abs(h)&&(c-=h),1!==Math.abs(u)&&(a-=u)}return E(i.left,i.top,c,a)}var y="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function w(t){return t===d(t).document.documentElement}function g(t){return n?y(t)?b(t):m(t):p}function O(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return f(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function E(t,e,n,r){return{x:t,y:e,width:n,height:r}}var M=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),A=function(){return function(t,e){var n=O(e);f(this,{target:t,contentRect:n})}}(),x=function(){function t(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new M(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new A(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!=typeof WeakMap?new WeakMap:new e,R=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new x(e,n,this);T.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(t){R.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}});var D=void 0!==r.ResizeObserver?r.ResizeObserver:R,j=D;exports.default=j;
},{}],"TZhv":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"XrPG":[function(require,module,exports) {
var e=require("lodash.debounce"),r=require("@uppy/utils/lib/FOCUSABLE_ELEMENTS"),u=require("./getActiveOverlayEl");module.exports=function(){var t=!1;return e(function(e,l){var o=u(e,l),c=o.contains(document.activeElement);if(!c||!t){var i=o.querySelector("[data-uppy-super-focusable]");if(!c||i)if(i)i.focus({preventScroll:!0}),t=!0;else{var a=o.querySelector(r);a&&a.focus({preventScroll:!0}),t=!1}}},260)};
},{"lodash.debounce":"TZhv","@uppy/utils/lib/FOCUSABLE_ELEMENTS":"WSky","./getActiveOverlayEl":"OYdf"}],"ctbU":[function(require,module,exports) {
"use strict";function t(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}function r(r,e){var n;void 0===e&&(e=t);var u,i=[],o=!1;return function(){for(var t=[],f=0;f<arguments.length;f++)t[f]=arguments[f];return o&&n===this&&e(t,i)?u:(u=r.apply(this,t),o=!0,n=this,i=t,u)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r;exports.default=e;
},{}],"C9Vr":[function(require,module,exports) {
var e,t;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a=require("@uppy/core"),r=a.Plugin,l=require("@uppy/utils/lib/Translator"),s=require("./components/Dashboard"),d=require("@uppy/status-bar"),u=require("@uppy/informer"),p=require("@uppy/thumbnail-generator"),c=require("@uppy/utils/lib/findAllDOMElements"),g=require("@uppy/utils/lib/toArray"),y=require("@uppy/utils/lib/getDroppedFiles"),m=require("./utils/trapFocus"),f=require("cuid"),v=require("resize-observer-polyfill").default||require("resize-observer-polyfill"),P=require("./utils/createSuperFocus"),b=require("memoize-one").default||require("memoize-one"),F=9,w=27;function C(){var e={};return e.promise=new Promise(function(t,o){e.resolve=t,e.reject=o}),e}function D(){return h("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},h("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}module.exports=(t=e=function(e){function t(t,i){var a;(a=e.call(this,t,i)||this).setOptions=function(t){e.prototype.setOptions.call(n(a),t),a.i18nInit()},a.i18nInit=function(){a.translator=new l([a.defaultLocale,a.uppy.locale,a.opts.locale]),a.i18n=a.translator.translate.bind(a.translator),a.i18nArray=a.translator.translateArray.bind(a.translator),a.setPluginState()},a.removeTarget=function(e){var t=a.getPluginState().targets.filter(function(t){return t.id!==e.id});a.setPluginState({targets:t})},a.addTarget=function(e){var t=e.id||e.constructor.name,o=e.title||t,n=e.type;if("acquirer"===n||"progressindicator"===n||"presenter"===n){var i={id:t,name:o,type:n},r=a.getPluginState().targets.slice();return r.push(i),a.setPluginState({targets:r}),a.el}a.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter","error")},a.hideAllPanels=function(){var e={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null},t=a.getPluginState();t.activePickerPanel===e.activePickerPanel&&t.showAddFilesPanel===e.showAddFilesPanel&&t.activeOverlayType===e.activeOverlayType||a.setPluginState(e)},a.showPanel=function(e){var t=a.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];a.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"})},a.openModal=function(){var e=C(),t=e.promise,o=e.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){a.el.addEventListener("animationend",function e(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",e,!1),o()},!1)}else a.setPluginState({isHidden:!1}),o();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),t},a.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,o=void 0===t||t,n=a.getPluginState(),i=n.isHidden,r=n.isClosing;if(!i&&!r){var l=C(),s=l.promise,d=l.resolve;if(a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.opts.animateOpenClose){a.setPluginState({isClosing:!0});a.el.addEventListener("animationend",function e(){a.setPluginState({isHidden:!0,isClosing:!1}),a.superFocus.cancel(),a.savedActiveElement.focus(),a.el.removeEventListener("animationend",e,!1),d()},!1)}else a.setPluginState({isHidden:!0}),a.superFocus.cancel(),a.savedActiveElement.focus(),d();return document.removeEventListener("keydown",a.handleKeyDownInModal),o&&a.opts.browserBackButtonClose&&history.state&&history.state[a.modalName]&&history.go(-1),a.uppy.emit("dashboard:modal-closed"),s}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(e){var t=a.uppy.getState().capabilities;a.uppy.setState({capabilities:o({},t,{darkMode:e})})},a.handleSystemDarkModeChange=function(e){var t=e.matches;a.uppy.log("[Dashboard] Dark mode is "+(t?"on":"off")),a.setDarkModeCapability(t)},a.toggleFileCard=function(e){e?a.uppy.emit("dashboard:file-edit-start"):a.uppy.emit("dashboard:file-edit-complete"),a.setPluginState({fileCardFor:e||null,activeOverlayType:e?"FileCard":null})},a.toggleAddFilesPanel=function(e){a.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},a.addFiles=function(e){var t=e.map(function(e){return{source:a.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}});try{a.uppy.addFiles(t)}catch(o){a.uppy.log(o)}},a.startListeningToResize=function(){a.resizeObserver=new v(function(e,t){var o=e[0].contentRect,n=o.width,i=o.height;a.uppy.log("[Dashboard] resized: "+n+" / "+i,"debug"),a.setPluginState({containerWidth:n,containerHeight:i,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var e=a.getPluginState(),t=!a.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(a.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(e){a.el.contains(e.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.updateBrowserHistory=function(){var e;history.state&&history.state[a.modalName]||history.pushState(o({},history.state,((e={})[a.modalName]=!0,e)),"");window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(e){!a.isModalOpen()||e.state&&e.state[a.modalName]||a.closeModal({manualClose:!1}),!a.isModalOpen()&&e.state&&e.state[a.modalName]&&history.go(-1)},a.handleKeyDownInModal=function(e){e.keyCode===w&&a.requestCloseModal(e),e.keyCode===F&&m.forModal(e,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(e){a.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootPaste&&t.handleRootPaste(e)});var t=g(e.clipboardData.files);a.addFiles(t)},a.handleInputChange=function(e){e.preventDefault();var t=g(e.target.files);a.addFiles(t)},a.handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0})},a.handleDragLeave=function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50)},a.handleDrop=function(e,t){e.preventDefault(),e.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootDrop&&t.handleRootDrop(e)});var o=!1;y(e.dataTransfer,{logDropError:function(e){a.uppy.log(e,"error"),o||(a.uppy.info(e.message,"error"),o=!0)}}).then(function(e){e.length>0&&(a.uppy.log("[Dashboard] Files were dropped"),a.addFiles(e))})},a.handleRequestThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",e)},a.handleCancelThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",e)},a.handleKeyDownInInline=function(e){e.keyCode===F&&m.forInline(e,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(e){a.el.contains(document.activeElement)&&a.handlePaste(e)},a.handleComplete=function(e){var t=e.failed;e.uploadID;a.opts.closeAfterFinish&&0===t.length&&a.requestCloseModal()},a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var e=c(a.opts.trigger);e?e.forEach(function(e){return e.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline)},a.removeEvents=function(){var e=c(a.opts.trigger);!a.opts.inline&&e&&e.forEach(function(e){return e.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline)},a.superFocusOnEachUpdate=function(){var e=a.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,o=a.uppy.getState().info.isHidden,n=!a.opts.inline;o&&(n||e||t&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){a.superFocusOnEachUpdate()},a.cancelUpload=function(e){a.uppy.removeFile(e)},a.saveFileCard=function(e,t){a.uppy.setFileMeta(t,e),a.toggleFileCard()},a._attachRenderFunctionToTarget=function(e){var t=a.uppy.getPlugin(e.id);return o({},e,{icon:t.icon||a.opts.defaultPickerIcon,render:t.render})},a._isTargetSupported=function(e){var t=a.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()},a._getAcquirers=b(function(e){return e.filter(function(e){return"acquirer"===e.type&&a._isTargetSupported(e)}).map(a._attachRenderFunctionToTarget)}),a._getProgressIndicators=b(function(e){return e.filter(function(e){return"progressindicator"===e.type}).map(a._attachRenderFunctionToTarget)}),a.render=function(e){var t,o=a.getPluginState(),n=e.files,i=e.capabilities,r=e.allowNewUpload,l=Object.keys(n).filter(function(e){return!n[e].progress.uploadStarted}),d=Object.keys(n).filter(function(e){return n[e].progress.uploadStarted}),u=Object.keys(n).filter(function(e){return n[e].isPaused}),p=Object.keys(n).filter(function(e){return n[e].progress.uploadComplete}),c=Object.keys(n).filter(function(e){return n[e].error}),g=Object.keys(n).filter(function(e){return!n[e].progress.uploadComplete&&n[e].progress.uploadStarted}),h=g.filter(function(e){return!n[e].isPaused}),y=Object.keys(n).filter(function(e){return n[e].progress.preprocess||n[e].progress.postprocess}),m=d.length>0,f=100===e.totalProgress&&p.length===Object.keys(n).length&&0===y.length,v=m&&c.length===d.length,P=0!==g.length&&u.length===g.length,b=a._getAcquirers(o.targets),F=a._getProgressIndicators(o.targets);return t="auto"===a.opts.theme?i.darkMode?"dark":"light":a.opts.theme,s({state:e,isHidden:o.isHidden,files:n,newFiles:l,uploadStartedFiles:d,completeFiles:p,erroredFiles:c,inProgressFiles:g,inProgressNotPausedFiles:h,processingFiles:y,isUploadStarted:m,isAllComplete:f,isAllErrored:v,isAllPaused:P,totalFileCount:Object.keys(n).length,totalProgress:e.totalProgress,allowNewUpload:r,acquirers:b,theme:t,activePickerPanel:o.activePickerPanel,animateOpenClose:a.opts.animateOpenClose,isClosing:o.isClosing,getPlugin:a.uppy.getPlugin,progressindicators:F,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,log:a.uppy.log,i18n:a.i18n,i18nArray:a.i18nArray,removeFile:a.uppy.removeFile,info:a.uppy.info,note:a.opts.note,metaFields:o.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,pauseUpload:a.uppy.pauseResume,retryUpload:a.uppy.retryUpload,cancelUpload:a.cancelUpload,cancelAll:a.uppy.cancelAll,fileCardFor:o.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:o.showAddFilesPanel,saveFileCard:a.saveFileCard,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:o.containerWidth,containerHeight:o.containerHeight,areInsidesReadyToBeVisible:o.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:a.opts.showSelectedFiles,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:o.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},a.discoverProviderPlugins=function(){a.uppy.iteratePlugins(function(e){e&&!e.target&&e.opts&&e.opts.target===a.constructor&&a.addTarget(e)})},a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=a.opts,t=e.inline,o=e.closeAfterFinish;if(t&&o)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");a.uppy.opts.allowMultipleUploads&&o&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploads` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var i=a.opts.target;i&&a.mount(i,n(a)),(a.opts.plugins||[]).forEach(function(e){var t=a.uppy.getPlugin(e);t&&t.mount(n(a),t)}),a.opts.disableStatusBar||a.uppy.use(d,{id:a.id+":StatusBar",target:n(a),hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale}),a.opts.disableInformer||a.uppy.use(u,{id:a.id+":Informer",target:n(a)}),a.opts.disableThumbnailGenerator||a.uppy.use(p,{id:a.id+":ThumbnailGenerator",thumbnailWidth:a.opts.thumbnailWidth,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var r=!!a.darkModeMediaQuery&&a.darkModeMediaQuery.matches;a.uppy.log("[Dashboard] Dark mode is "+(r?"on":"off")),a.setDarkModeCapability(r),"auto"===a.opts.theme&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),a.discoverProviderPlugins(),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var e=a.uppy.getPlugin(a.id+":Informer");e&&a.uppy.removePlugin(e)}if(!a.opts.disableStatusBar){var t=a.uppy.getPlugin(a.id+":StatusBar");t&&a.uppy.removePlugin(t)}if(!a.opts.disableThumbnailGenerator){var o=a.uppy.getPlugin(a.id+":ThumbnailGenerator");o&&a.uppy.removePlugin(o)}(a.opts.plugins||[]).forEach(function(e){var t=a.uppy.getPlugin(e);t&&t.unmount()}),"auto"===a.opts.theme&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-"+f(),a.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",addMore:"Add more",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPaste:"Drop files here, paste or %{browse}",dropPasteImport:"Drop files here, paste, %{browse} or import from:",dropHint:"Drop your files here",browse:"browse",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy2:"%{backwardsCompat} %{uppy}",poweredBy:"Powered by"}};var r={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:D,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light"};return a.opts=o({},r,{},i),a.i18nInit(),a.superFocus=P(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return i(t,e),t}(r),e.VERSION="1.10.1",t);
},{"@uppy/core":"l6tt","@uppy/utils/lib/Translator":"FB7b","./components/Dashboard":"gogG","@uppy/status-bar":"JQa9","@uppy/informer":"QtDE","@uppy/thumbnail-generator":"saop","@uppy/utils/lib/findAllDOMElements":"C33p","@uppy/utils/lib/toArray":"ZcYx","@uppy/utils/lib/getDroppedFiles":"yq04","./utils/trapFocus":"NKfx","cuid":"QD1d","resize-observer-polyfill":"SoEZ","./utils/createSuperFocus":"XrPG","memoize-one":"ctbU"}],"VNuJ":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(o){function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,n);var i=t(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r.message));i.originalRequest=s,i.causingError=o;var u=r.message;return null!=o&&(u+=", caused by "+o.toString()),null!=s&&(u+=", originated from request (response code: "+s.status+", response text: "+s.responseText+")"),i.message=u,i}return r(n,Error),n}();exports.default=o;
},{}],"bmgk":[function(require,module,exports) {
"use strict";var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,n=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===t.call(r)},c=function(e){if(!e||"[object Object]"!==t.call(e))return!1;var o,n=r.call(e,"constructor"),c=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!c)return!1;for(o in e);return void 0===o||r.call(e,o)},u=function(r,t){e&&"__proto__"===t.name?e(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},a=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(o)return o(t,e).value}return t[e]};module.exports=function r(){var t,e,o,l,i,f,p=arguments[0],y=1,s=arguments.length,b=!1;for("boolean"==typeof p&&(b=p,p=arguments[1]||{},y=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});y<s;++y)if(null!=(t=arguments[y]))for(e in t)o=a(p,e),p!==(l=a(t,e))&&(b&&l&&(c(l)||(i=n(l)))?(i?(i=!1,f=o&&n(o)?o:[]):f=o&&c(o)?o:{},u(p,{name:e,newValue:r(b,f,l)})):void 0!==l&&u(p,{name:e,newValue:l}));return p};
},{}],"YsFY":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,r=arguments[3];!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(r):"function"==typeof t&&t.amd?t(e):e(r)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:this,function(r){"use strict";var e,n=(r=r||{}).Base64,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var r={},e=0,n=t.length;e<n;e++)r[t.charAt(e)]=e;return r}(o),c=String.fromCharCode,u=function(t){if(t.length<2)return(r=t.charCodeAt(0))<128?t:r<2048?c(192|r>>>6)+c(128|63&r):c(224|r>>>12&15)+c(128|r>>>6&63)+c(128|63&r);var r=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|r>>>18&7)+c(128|r>>>12&63)+c(128|r>>>6&63)+c(128|63&r)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(t){return t.replace(i,u)},d=function(t){var r=[0,2,1][t.length%3],e=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(e>>>18),o.charAt(e>>>12&63),r>=2?"=":o.charAt(e>>>6&63),r>=1?"=":o.charAt(63&e)].join("")},h=r.btoa&&"function"==typeof r.btoa?function(t){return r.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,d)},s=function(t){return h(f(String(t)))},A=function(t){return t.replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,"")},p=function(t,r){return r?A(s(t)):s(t)};r.Uint8Array&&(e=function(t,r){for(var e="",n=0,a=t.length;n<a;n+=3){var c=t[n],u=t[n+1],i=t[n+2],f=c<<16|u<<8|i;e+=o.charAt(f>>>18)+o.charAt(f>>>12&63)+(void 0!==u?o.charAt(f>>>6&63):"=")+(void 0!==i?o.charAt(63&f):"=")}return r?A(e):e});var l,g=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,y=function(t){switch(t.length){case 4:var r=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(r>>>10))+c(56320+(1023&r));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},x=function(t){return t.replace(g,y)},B=function(t){var r=t.length,e=r%4,n=(r>0?a[t.charAt(0)]<<18:0)|(r>1?a[t.charAt(1)]<<12:0)|(r>2?a[t.charAt(2)]<<6:0)|(r>3?a[t.charAt(3)]:0),o=[c(n>>>16),c(n>>>8&255),c(255&n)];return o.length-=[0,0,2,1][e],o.join("")},C=r.atob&&"function"==typeof r.atob?function(t){return r.atob(t)}:function(t){return t.replace(/\S{1,4}/g,B)},b=function(t){return C(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},v=function(t){return String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},F=function(t){return function(t){return x(C(t))}(v(t))};r.Uint8Array&&(l=function(t){return Uint8Array.from(b(v(t)),function(t){return t.charCodeAt(0)})});if(r.Base64={VERSION:"2.6.3",atob:b,btoa:h,fromBase64:F,toBase64:p,utob:f,encode:p,encodeURI:function(t){return p(t,!0)},btou:x,decode:F,noConflict:function(){var t=r.Base64;return r.Base64=n,t},fromUint8Array:e,toUint8Array:l},"function"==typeof Object.defineProperty){var m=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",m(function(){return F(this)})),Object.defineProperty(String.prototype,"toBase64",m(function(t){return p(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",m(function(){return p(this,!0)}))}}return r.Meteor&&(Base64=r.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=r.Base64:"function"==typeof t&&t.amd&&t([],function(){return r.Base64}),{Base64:r.Base64}});
},{}],"qggR":[function(require,module,exports) {
"use strict";module.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};
},{}],"o5xf":[function(require,module,exports) {
"use strict";var n,e=Object.prototype.hasOwnProperty;function t(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch(e){return null}}function r(n){try{return encodeURIComponent(n)}catch(e){return null}}function o(n){for(var e,r=/([^=?&]+)=?([^&]*)/g,o={};e=r.exec(n);){var u=t(e[1]),c=t(e[2]);null===u||null===c||u in o||(o[u]=c)}return o}function u(t,r){r=r||"";var o,u,c=[];for(u in"string"!=typeof r&&(r="?"),t)if(e.call(t,u)){if((o=t[u])||null!==o&&o!==n&&!isNaN(o)||(o=""),u=encodeURIComponent(u),o=encodeURIComponent(o),null===u||null===o)continue;c.push(u+"="+o)}return c.length?r+c.join("&"):""}exports.stringify=u,exports.parse=o;
},{}],"WxRL":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t=require("requires-port"),o=require("querystringify"),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",n=new RegExp("^"+a+"+");function i(e){return(e||"").toString().replace(n,"")}var h=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function u(t){var o,s=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},a={},n=typeof(t=t||s);if("blob:"===t.protocol)a=new f(unescape(t.pathname),{});else if("string"===n)for(o in a=new f(t,{}),p)delete a[o];else if("object"===n){for(o in t)o in p||(a[o]=t[o]);void 0===a.slashes&&(a.slashes=r.test(t.href))}return a}function l(e){e=i(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function c(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,s=o[r-1],a=!1,n=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),n++):n&&(0===r&&(a=!0),o.splice(r,1),n--);return a&&o.unshift(""),"."!==s&&".."!==s||o.push(""),o.join("/")}function f(e,r,s){if(e=i(e),!(this instanceof f))return new f(e,r,s);var a,n,p,m,y,d,g=h.slice(),v=typeof r,w=this,x=0;for("object"!==v&&"string"!==v&&(s=r,r=null),s&&"function"!=typeof s&&(s=o.parse),r=u(r),a=!(n=l(e||"")).protocol&&!n.slashes,w.slashes=n.slashes||a&&r.slashes,w.protocol=n.protocol||r.protocol||"",e=n.rest,n.slashes||(g[3]=[/(.*)/,"pathname"]);x<g.length;x++)"function"!=typeof(m=g[x])?(p=m[0],d=m[1],p!=p?w[d]=e:"string"==typeof p?~(y=e.indexOf(p))&&("number"==typeof m[2]?(w[d]=e.slice(0,y),e=e.slice(y+m[2])):(w[d]=e.slice(y),e=e.slice(0,y))):(y=p.exec(e))&&(w[d]=y[1],e=e.slice(0,y.index)),w[d]=w[d]||a&&m[3]&&r[d]||"",m[4]&&(w[d]=w[d].toLowerCase())):e=m(e);s&&(w.query=s(w.query)),a&&r.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==r.pathname)&&(w.pathname=c(w.pathname,r.pathname)),t(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(m=w.auth.split(":"),w.username=m[0]||"",w.password=m[1]||""),w.origin=w.protocol&&w.host&&"file:"!==w.protocol?w.protocol+"//"+w.host:"null",w.href=w.toString()}function m(e,r,s){var a=this;switch(e){case"query":"string"==typeof r&&r.length&&(r=(s||o.parse)(r)),a[e]=r;break;case"port":a[e]=r,t(r,a.protocol)?r&&(a.host=a.hostname+":"+r):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=r,a.port&&(r+=":"+a.port),a.host=r;break;case"host":a[e]=r,/:\d+$/.test(r)?(r=r.split(":"),a.port=r.pop(),a.hostname=r.join(":")):(a.hostname=r,a.port="");break;case"protocol":a.protocol=r.toLowerCase(),a.slashes=!s;break;case"pathname":case"hash":if(r){var n="pathname"===e?"/":"#";a[e]=r.charAt(0)!==n?n+r:r}else a[e]=r;break;default:a[e]=r}for(var i=0;i<h.length;i++){var p=h[i];p[4]&&(a[p[1]]=a[p[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a}function y(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,s=r.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var a=s+(r.slashes?"//":"");return r.username&&(a+=r.username,r.password&&(a+=":"+r.password),a+="@"),a+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(a+=r.hash),a}f.prototype={set:m,toString:y},f.extractProtocol=l,f.location=u,f.trimLeft=i,f.qs=o,module.exports=f;
},{"requires-port":"qggR","querystringify":"o5xf"}],"lFUw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.newRequest=u,exports.resolveUrl=n;var e=require("url-parse"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}function u(){return new window.XMLHttpRequest}function n(e,r){return new t.default(r,e).toString()}
},{"url-parse":"WxRL"}],"qIrm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};exports.default=e;
},{}],"dbXw":[function(require,module,exports) {
"use strict";function e(e,n){var o=new XMLHttpRequest;o.responseType="blob",o.onload=function(){var e=o.response;n(null,e)},o.onerror=function(e){n(e)},o.open("GET",e),o.send()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"QoJa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)};exports.default=o;
},{}],"hXIF":[function(require,module,exports) {
"use strict";function e(e,r){var n=new FileReader;n.onload=function(){r(null,new Uint8Array(n.result))},n.onerror=function(e){r(e)},n.readAsArrayBuffer(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"CSpS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();exports.getSource=v;var t=require("./isReactNative"),r=a(t),n=require("./uriToBlob"),i=a(n),u=require("./isCordova"),f=a(u),o=require("./readAsByteArray"),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){l(this,t),this._file=e,this.size=e.size}return e(t,[{key:"slice",value:function(e,t,r){(0,f.default)()?(0,s.default)(this._file.slice(e,t),function(e,t){if(e)return r(e);r(null,t)}):r(null,this._file.slice(e,t))}},{key:"close",value:function(){}}]),t}(),h=function(){function t(e,r){l(this,t),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return e(t,[{key:"slice",value:function(e,t,r){if(!(e<this._bufferOffset))return this._readUntilEnoughDataOrDone(e,t,r);r(new Error("Requested data is before the reader's current offset"))}},{key:"_readUntilEnoughDataOrDone",value:function(e,t,r){var n=this,i=t<=this._bufferOffset+d(this._buffer);if(this._done||i){var u=this._getDataFromBuffer(e,t);r(null,u,null==u&&this._done)}else this._reader.read().then(function(i){var u=i.value;i.done?n._done=!0:void 0===n._buffer?n._buffer=u:n._buffer=_(n._buffer,u),n._readUntilEnoughDataOrDone(e,t,r)}).catch(function(e){r(new Error("Error during read: "+e))})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var r=0===d(this._buffer);return this._done&&r?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function d(e){return void 0===e?0:void 0!==e.size?e.size:e.length}function _(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}function v(e,t,n){if((0,r.default)()&&e&&void 0!==e.uri)(0,i.default)(e.uri,function(e,t){if(e)return n(new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+e));n(null,new c(t))});else{if("function"!=typeof e.slice||void 0===e.size)return"function"==typeof e.read?(t=+t,isFinite(t)?void n(null,new h(e,t)):void n(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):void n(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));n(null,new c(e))}}
},{"./isReactNative":"qIrm","./uriToBlob":"dbXw","./isCordova":"QoJa","./readAsByteArray":"hXIF"}],"rtxK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.getStorage=l;var n=!1;try{n="localStorage"in window;var o="tusSupport";localStorage.setItem(o,localStorage.getItem(o))}catch(u){if(u.code!==u.SECURITY_ERR&&u.code!==u.QUOTA_EXCEEDED_ERR)throw u;n=!1}var r=exports.canStoreURLs=n,a=function(){function n(){t(this,n)}return e(n,[{key:"setItem",value:function(e,t,n){n(null,localStorage.setItem(e,t))}},{key:"getItem",value:function(e,t){t(null,localStorage.getItem(e))}},{key:"removeItem",value:function(e,t){t(null,localStorage.removeItem(e))}}]),n}();function l(){return n?new a:null}
},{}],"Dj3W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./isReactNative"),n=t(e);function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t,r){return(0,n.default)()?r(null,i(e,t)):r(null,["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function i(e,n){var t=e.exif?u(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",t,n.endpoint].join("/")}function u(e){var n=0;if(0===e.length)return n;for(var t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return n}
},{"./isReactNative":"qIrm"}],"JIOw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=require("./error"),r=p(t),o=require("extend"),i=p(o),s=require("js-base64"),n=require("./node/request"),u=require("./node/source"),a=require("./node/storage"),l=require("./node/fingerprint"),h=p(l);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f={endpoint:null,fingerprint:h.default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,urlStorage:null,fileReader:null,uploadDataDuringCreation:!1},_=function(){function t(e,r){d(this,t),this.options=(0,i.default)(!0,{},f,r),this._storage=this.options.urlStorage,this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return e(t,[{key:"start",value:function(){var e=this,t=this.file;t?this.options.endpoint||this.options.uploadUrl?(this.options.resume&&null==this._storage&&(this._storage=(0,a.getStorage)()),this._source?this._start(this._source):(this.options.fileReader||u.getSource)(t,this.options.chunkSize,function(t,r){t?e._emitError(t):(e._source=r,e._start(r))})):this._emitError(new Error("tus: neither an endpoint or an upload URL is provided")):this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_start",value:function(e){var t=this,r=this.file;if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=e.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));var o=this.options.retryDelays;if(null!=o){if("[object Array]"!==Object.prototype.toString.call(o))return void this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));var i=this.options.onError;this.options.onError=function(e){t.options.onError=i,null!=t._offset&&t._offset>t._offsetBeforeRetry&&(t._retryAttempt=0);var r=!0;"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1);var s=e.originalRequest?e.originalRequest.status:0,n=!m(s,400)||409===s||423===s;if(t._retryAttempt<o.length&&null!=e.originalRequest&&n&&r){var u=o[t._retryAttempt++];t._offsetBeforeRetry=t._offset,t.options.uploadUrl=t.url,t._retryTimeout=setTimeout(function(){t.start()},u)}else t._emitError(e)}}if(this._aborted=!1,null==this.url)return null!=this.options.uploadUrl?(this.url=this.options.uploadUrl,void this._resumeUpload()):void(this._hasStorage()?this.options.fingerprint(r,this.options,function(e,r){e?t._emitError(e):(t._fingerprint=r,t._storage.getItem(t._fingerprint,function(e,r){e?t._emitError(e):null!=r?(t.url=r,t._resumeUpload()):t._createUpload()}))}):this._createUpload());this._resumeUpload()}},{key:"abort",value:function(e,r){var o=this;null!==this._xhr&&(this._xhr.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),r=r||function(){},e?t.terminate(this.url,this.options,function(e,t){if(e)return r(e,t);o._hasStorage()?o._storage.removeItem(o._fingerprint,r):r()}):r()}},{key:"_hasStorage",value:function(){return this.options.resume&&this._storage}},{key:"_emitXhrError",value:function(e,t,o){this._emitError(new r.default(t,o,e))}},{key:"_emitError",value:function(e){if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}},{key:"_setupXHR",value:function(e){this._xhr=e,v(e,this.options)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=(0,n.newRequest)();t.open("POST",this.options.endpoint,!0),t.onload=function(){if(m(t.status,200)){var r=t.getResponseHeader("Location");if(null!=r){if(e.url=(0,n.resolveUrl)(e.options.endpoint,r),0===e._size)return e._emitSuccess(),void e._source.close();e._hasStorage()&&e._storage.setItem(e._fingerprint,e.url,function(t){t&&e._emitError(t)}),e.options.uploadDataDuringCreation?e._handleUploadResponse(t):(e._offset=0,e._startUpload())}else e._emitXhrError(t,new Error("tus: invalid or missing Location header"))}else e._emitXhrError(t,new Error("tus: unexpected response while creating upload"))},t.onerror=function(r){e._emitXhrError(t,new Error("tus: failed to create upload"),r)},this._setupXHR(t),this.options.uploadLengthDeferred?t.setRequestHeader("Upload-Defer-Length",1):t.setRequestHeader("Upload-Length",this._size);var r=c(this.options.metadata);""!==r&&t.setRequestHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,this._addChunkToRequest(t)):t.send(null)}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=(0,n.newRequest)();t.open("HEAD",this.url,!0),t.onload=function(){if(!m(t.status,200))return e._hasStorage()&&m(t.status,400)&&e._storage.removeItem(e._fingerprint,function(t){t&&e._emitError(t)}),423===t.status?void e._emitXhrError(t,new Error("tus: upload is currently locked; retry later")):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitXhrError(t,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));var r=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(r))e._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{var o=parseInt(t.getResponseHeader("Upload-Length"),10);if(!isNaN(o)||e.options.uploadLengthDeferred){if(r===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=r,e._startUpload()}else e._emitXhrError(t,new Error("tus: invalid or missing length value"))}},t.onerror=function(r){e._emitXhrError(t,new Error("tus: failed to resume upload"),r)},this._setupXHR(t),t.send(null)}},{key:"_startUpload",value:function(){var e=this;if(!this._aborted){var t=(0,n.newRequest)();this.options.overridePatchMethod?(t.open("POST",this.url,!0),t.setRequestHeader("X-HTTP-Method-Override","PATCH")):t.open("PATCH",this.url,!0),t.onload=function(){m(t.status,200)?e._handleUploadResponse(t):e._emitXhrError(t,new Error("tus: unexpected response while uploading chunk"))},t.onerror=function(r){e._aborted||e._emitXhrError(t,new Error("tus: failed to upload chunk at offset "+e._offset),r)},this._setupXHR(t),t.setRequestHeader("Upload-Offset",this._offset),this._addChunkToRequest(t)}}},{key:"_addChunkToRequest",value:function(e){var t=this;"upload"in e&&(e.upload.onprogress=function(e){e.lengthComputable&&t._emitProgress(r+e.loaded,t._size)}),e.setRequestHeader("Content-Type","application/offset+octet-stream");var r=this._offset,o=this._offset+this.options.chunkSize;(o===1/0||o>this._size)&&!this.options.uploadLengthDeferred&&(o=this._size),this._source.slice(r,o,function(r,o,i){r?t._emitError(r):(t.options.uploadLengthDeferred&&i&&(t._size=t._offset+(o&&o.size?o.size:0),e.setRequestHeader("Upload-Length",t._size)),null===o?e.send():(e.send(o),t._emitProgress(t._offset,t._size)))})}},{key:"_handleUploadResponse",value:function(e){var t=this,r=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(r))this._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r==this._size)return this.options.removeFingerprintOnSuccess&&this.options.resume&&this._storage.removeItem(this._fingerprint,function(e){e&&t._emitError(e)}),this._emitSuccess(),void this._source.close();this._startUpload()}}}],[{key:"terminate",value:function(e,t,o){if("function"!=typeof t&&"function"!=typeof o)throw new Error("tus: a callback function must be specified");"function"==typeof t&&(o=t,t={});var i=(0,n.newRequest)();i.open("DELETE",e,!0),i.onload=function(){204===i.status?o():o(new r.default(new Error("tus: unexpected response while terminating upload"),null,i))},i.onerror=function(e){o(new r.default(e,new Error("tus: failed to terminate upload"),i))},v(i,t),i.send(null)}}]),t}();function c(e){var t=[];for(var r in e)t.push(r+" "+s.Base64.encode(e[r]));return t.join(",")}function m(e,t){return e>=t&&e<t+100}function v(e,t){e.setRequestHeader("Tus-Resumable","1.0.0");var r=t.headers||{};for(var o in r)e.setRequestHeader(o,r[o]);e.withCredentials=t.withCredentials}_.defaultOptions=f,exports.default=_;
},{"./error":"VNuJ","extend":"bmgk","js-base64":"YsFY","./node/request":"lFUw","./node/source":"CSpS","./node/storage":"rtxK","./node/fingerprint":"Dj3W"}],"LKEN":[function(require,module,exports) {
"use strict";var e=require("./upload"),t=n(e),o=require("./node/storage"),r=u(o);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}var a=t.default.defaultOptions,i={Upload:t.default,canStoreURLs:r.canStoreURLs,defaultOptions:a};if("undefined"!=typeof window){var l=window,d=l.XMLHttpRequest,p=l.Blob;i.isSupported=d&&p&&"function"==typeof p.prototype.slice}else i.isSupported=!0,i.FileStorage=r.FileStorage;module.exports=i;
},{"./upload":"JIOw","./node/storage":"rtxK"}],"Md53":[function(require,module,exports) {
"use strict";function t(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function r(t){var n="function"==typeof Map?new Map:void 0;return(r=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return e(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)})(t)}function e(t,r,o){return(e=n()?Reflect.construct:function(t,r,e){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(t,n));return e&&u(o,e.prototype),o}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function u(t,r){return(u=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(r){function e(){var t;return(t=r.call(this,"Authorization required")||this).name="AuthError",t.isAuthError=!0,t}return t(e,r),e}(r(Error));module.exports=i;
},{}],"NtGx":[function(require,module,exports) {
function t(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function r(t){var n="function"==typeof Map?new Map:void 0;return(r=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return e(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)})(t)}function e(t,r,o){return(e=n()?Reflect.construct:function(t,r,e){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(t,n));return e&&u(o,e.prototype),o}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function u(t,r){return(u=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(r){function e(t,e){var n;return void 0===e&&(e=null),(n=r.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+t+"]")||this).isNetworkError=!0,n.request=e,n}return t(e,r),e}(r(Error));module.exports=i;
},{}],"c7Pq":[function(require,module,exports) {
var r=require("@uppy/utils/lib/NetworkError");module.exports=function(){return fetch.apply(void 0,arguments).catch(function(o){throw"AbortError"===o.name?o:new r(o)})};
},{"@uppy/utils/lib/NetworkError":"NtGx"}],"pKYI":[function(require,module,exports) {
"use strict";var e,t;function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var s=require("./AuthError"),i=require("@uppy/utils/lib/fetchWithNetworkError");function a(e){return e.replace(/\/$/,"")}module.exports=(t=e=function(){function e(e,t){this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var t=e.prototype;return t.headers=function(){var e=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(n({},this.defaultHeaders,{},e))},t._getPostResponseFunc=function(e){var t=this;return function(n){return e?n:t.onReceiveResponse(n)}},t.onReceiveResponse=function(e){var t,r=this.uppy.getState().companion||{},o=this.opts.companionUrl,s=e.headers;s.has("i-am")&&s.get("i-am")!==r[o]&&this.uppy.setState({companion:n({},r,(t={},t[o]=s.get("i-am"),t))});return e},t._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},t._json=function(e){if(401===e.status)throw new s;if(e.status<200||e.status>300){var t="Failed request with status: "+e.status+". "+e.statusText;return e.json().then(function(e){throw t=e.message?t+" message: "+e.message:t,t=e.requestId?t+" request-Id: "+e.requestId:t,new Error(t)}).catch(function(){throw new Error(t)})}return e.json()},t.preflight=function(e){var t=this;return new Promise(function(n,r){if(t.preflightDone)return n(t.allowedHeaders.slice());fetch(t._getUrl(e),{method:"OPTIONS"}).then(function(e){e.headers.has("access-control-allow-headers")&&(t.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map(function(e){return e.trim().toLowerCase()})),t.preflightDone=!0,n(t.allowedHeaders.slice())}).catch(function(e){t.uppy.log("[CompanionClient] unable to make preflight request "+e,"warning"),t.preflightDone=!0,n(t.allowedHeaders.slice())})})},t.preflightAndHeaders=function(e){var t=this;return Promise.all([this.preflight(e),this.headers()]).then(function(e){var n=e[0],r=e[1];return Object.keys(r).forEach(function(e){-1===n.indexOf(e.toLowerCase())&&(t.uppy.log("[CompanionClient] excluding unallowed header "+e),delete r[e])}),r})},t.get=function(e,t){var n=this;return new Promise(function(r,o){n.preflightAndHeaders(e).then(function(s){i(n._getUrl(e),{method:"get",headers:s,credentials:"same-origin"}).then(n._getPostResponseFunc(t)).then(function(e){return n._json(e).then(r)}).catch(function(t){t=t.isAuthError?t:new Error("Could not get "+n._getUrl(e)+". "+t),o(t)})}).catch(o)})},t.post=function(e,t,n){var r=this;return new Promise(function(o,s){r.preflightAndHeaders(e).then(function(a){i(r._getUrl(e),{method:"post",headers:a,credentials:"same-origin",body:JSON.stringify(t)}).then(r._getPostResponseFunc(n)).then(function(e){return r._json(e).then(o)}).catch(function(t){t=t.isAuthError?t:new Error("Could not post "+r._getUrl(e)+". "+t),s(t)})}).catch(s)})},t.delete=function(e,t,n){var r=this;return new Promise(function(o,s){r.preflightAndHeaders(e).then(function(a){i(r.hostname+"/"+e,{method:"delete",headers:a,credentials:"same-origin",body:t?JSON.stringify(t):null}).then(r._getPostResponseFunc(n)).then(function(e){return r._json(e).then(o)}).catch(function(t){t=t.isAuthError?t:new Error("Could not delete "+r._getUrl(e)+". "+t),s(t)})}).catch(s)})},o(e,[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return a(e&&e[t]?e[t]:t)}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+e.VERSION}}}]),e}(),e.VERSION="1.5.0",t);
},{"./AuthError":"Md53","@uppy/utils/lib/fetchWithNetworkError":"c7Pq"}],"T4OP":[function(require,module,exports) {
"use strict";module.exports.setItem=function(e,t){return new Promise(function(o){localStorage.setItem(e,t),o()})},module.exports.getItem=function(e){return Promise.resolve(localStorage.getItem(e))},module.exports.removeItem=function(e){return new Promise(function(t){localStorage.removeItem(e),t()})};
},{}],"K0md":[function(require,module,exports) {
"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n=require("./RequestClient"),o=require("./tokenStorage"),r=function(t){return t.split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")};module.exports=function(n){function i(t,e){var o;return(o=n.call(this,t,e)||this).provider=e.provider,o.id=o.provider,o.authProvider=e.authProvider||o.provider,o.name=o.opts.name||r(o.id),o.pluginId=o.opts.pluginId,o.tokenKey="companion-"+o.pluginId+"-auth-token",o}e(i,n);var s=i.prototype;return s.headers=function(){var e=this;return new Promise(function(o,r){n.prototype.headers.call(e).then(function(n){e.getAuthToken().then(function(e){o(t({},n,{"uppy-auth-token":e}))})}).catch(r)})},s.onReceiveResponse=function(t){t=n.prototype.onReceiveResponse.call(this,t);var e=this.uppy.getPlugin(this.pluginId),o=e.getPluginState().authenticated?401!==t.status:t.status<400;return e.setPluginState({authenticated:o}),t},s.setAuthToken=function(t){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,t)},s.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},s.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},s.fileUrl=function(t){return this.hostname+"/"+this.id+"/get/"+t},s.list=function(t){return this.get(this.id+"/list/"+(t||""))},s.logout=function(){var t=this;return new Promise(function(e,n){t.get(t.id+"/logout").then(function(o){t.uppy.getPlugin(t.pluginId).storage.removeItem(t.tokenKey).then(function(){return e(o)}).catch(n)}).catch(n)})},i.initPlugin=function(e,n,r){if(e.type="acquirer",e.files=[],r&&(e.opts=t({},r,n)),n.serverUrl||n.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(n.companionAllowedHosts){var i=n.companionAllowedHosts;if(!("string"==typeof i||Array.isArray(i)||i instanceof RegExp))throw new TypeError(e.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');e.opts.companionAllowedHosts=i}else/^(?!https?:\/\/).*$/i.test(n.companionUrl)?e.opts.companionAllowedHosts="https://"+n.companionUrl.replace(/^\/\//,""):e.opts.companionAllowedHosts=n.companionUrl;e.storage=e.opts.storage||o},i}(n);
},{"./RequestClient":"pKYI","./tokenStorage":"T4OP"}],"qICL":[function(require,module,exports) {
var t=require("namespace-emitter");module.exports=function(){function e(e){this.opts=e,this._queued=[],this.isOpen=!1,this.emitter=t(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),e&&!1===e.autoOpen||this.open()}var s=e.prototype;return s.open=function(){var t=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(e){for(t.isOpen=!0;t._queued.length>0&&t.isOpen;){var s=t._queued[0];t.send(s.action,s.payload),t._queued=t._queued.slice(1)}},this.socket.onclose=function(e){t.isOpen=!1},this.socket.onmessage=this._handleMessage},s.close=function(){this.socket&&this.socket.close()},s.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this._queued.push({action:t,payload:e})},s.on=function(t,e){this.emitter.on(t,e)},s.emit=function(t,e){this.emitter.emit(t,e)},s.once=function(t,e){this.emitter.once(t,e)},s._handleMessage=function(t){try{var e=JSON.parse(t.data);this.emit(e.action,e.payload)}catch(s){console.log(s)}},e}();
},{"namespace-emitter":"yGsz"}],"HLyv":[function(require,module,exports) {
"use strict";var e=require("./RequestClient"),r=require("./Provider"),t=require("./Socket");module.exports={RequestClient:e,Provider:r,Socket:t};
},{"./RequestClient":"pKYI","./Provider":"K0md","./Socket":"qICL"}],"qRt8":[function(require,module,exports) {
var e=require("lodash.throttle");function o(e,o,r){var l=o.progress,p=o.bytesUploaded,t=o.bytesTotal;l&&(e.uppy.log("Upload progress: "+l),e.uppy.emit("upload-progress",r,{uploader:e,bytesUploaded:p,bytesTotal:t}))}module.exports=e(o,300,{leading:!0,trailing:!0});
},{"lodash.throttle":"wMdc"}],"H1ie":[function(require,module,exports) {
module.exports=function(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(t)[1];return(/^http:\/\//i.test(t)?"ws":"wss")+"://"+e};
},{}],"uWoc":[function(require,module,exports) {
module.exports=function(n){var u=[],t=[];function e(n){u.push(n)}function r(n){t.push(n)}return Promise.all(n.map(function(n){return n.then(e,r)})).then(function(){return{successful:u,failed:t}})};
},{}],"v4QX":[function(require,module,exports) {
module.exports=function(){function t(t){this._events=[],this._emitter=t}var e=t.prototype;return e.on=function(t,e){return this._events.push([t,e]),this._emitter.on(t,e)},e.remove=function(){var t=this;this._events.forEach(function(e){var n=e[0],i=e[1];t._emitter.off(n,i)})},t}();
},{}],"lUYM":[function(require,module,exports) {
function t(t){return!!t&&(0!==t.readyState&&4!==t.readyState||0===t.status)}module.exports=t;
},{}],"BQ4Q":[function(require,module,exports) {
function e(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function t(){return new Error("Cancelled")}module.exports=function(){function n(e){this.limit="number"!=typeof e||0===e?1/0:e,this.activeRequests=0,this.queuedHandlers=[]}var r=n.prototype;return r._call=function(e){var t=this;this.activeRequests+=1;var n,r=!1;try{n=e()}catch(i){throw this.activeRequests-=1,i}return{abort:function(){r||(r=!0,t.activeRequests-=1,n(),t._queueNext())},done:function(){r||(r=!0,t.activeRequests-=1,t._queueNext())}}},r._queueNext=function(){var e=this;Promise.resolve().then(function(){e._next()})},r._next=function(){if(!(this.activeRequests>=this.limit)&&0!==this.queuedHandlers.length){var e=this.queuedHandlers.shift(),t=this._call(e.fn);e.abort=t.abort,e.done=t.done}},r._queue=function(t,n){var r=this;void 0===n&&(n={});var i={fn:t,priority:n.priority||0,abort:function(){r._dequeue(i)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},u=e(this.queuedHandlers,function(e){return i.priority>e.priority});return-1===u?this.queuedHandlers.push(i):this.queuedHandlers.splice(u,0,i),i},r._dequeue=function(e){var t=this.queuedHandlers.indexOf(e);-1!==t&&this.queuedHandlers.splice(t,1)},r.run=function(e,t){return this.activeRequests<this.limit?this._call(e):this._queue(e,t)},r.wrapPromiseFunction=function(e,n){var r=this;return function(){for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];var s,a=new Promise(function(i,o){s=r.run(function(){var n,r;try{r=Promise.resolve(e.apply(void 0,u))}catch(a){r=Promise.reject(a)}return r.then(function(e){n?o(n):(s.done(),i(e))},function(e){n?o(n):(s.done(),o(e))}),function(){n=t()}},n)});return a.abort=function(){s.abort()},a}},n}();
},{}],"dRhu":[function(require,module,exports) {
var n=require("tus-js-client");function o(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)}function t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}module.exports=function(i){return function(e,r,d){return o()||t()?n.Upload.defaultOptions.fingerprint(e,r,d):d(null,["tus",i.id,r.endpoint].join("-"))}};
},{"tus-js-client":"LKEN"}],"GE59":[function(require,module,exports) {
var e,t;function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=require("@uppy/core"),i=u.Plugin,s=require("tus-js-client"),l=require("@uppy/companion-client"),a=l.Provider,p=l.RequestClient,d=l.Socket,c=require("@uppy/utils/lib/emitSocketProgress"),f=require("@uppy/utils/lib/getSocketHost"),h=require("@uppy/utils/lib/settle"),y=require("@uppy/utils/lib/EventTracker"),m=require("@uppy/utils/lib/NetworkError"),v=require("@uppy/utils/lib/isNetworkError"),b=require("@uppy/utils/lib/RateLimitedQueue"),g=require("@uppy/utils/lib/hasProperty"),R=require("./getFingerprint"),U={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null};module.exports=(t=e=function(e){function t(t,n){var u;(u=e.call(this,t,n)||this).type="uploader",u.id=u.opts.id||"Tus",u.title="Tus";return u.opts=r({},{resume:!0,autoRetry:!0,useFastRemoteRetry:!0,limit:0,retryDelays:[0,1e3,3e3,5e3]},n),u.requests=new b(u.opts.limit),u.uploaders=Object.create(null),u.uploaderEvents=Object.create(null),u.uploaderSockets=Object.create(null),u.handleResetProgress=u.handleResetProgress.bind(o(u)),u.handleUpload=u.handleUpload.bind(o(u)),u}n(t,e);var u=t.prototype;return u.handleResetProgress=function(){var e=r({},this.uppy.getState().files);Object.keys(e).forEach(function(t){if(e[t].tus&&e[t].tus.uploadUrl){var o=r({},e[t].tus);delete o.uploadUrl,e[t]=r({},e[t],{tus:o})}}),this.uppy.setState({files:e})},u.resetUploaderReferences=function(e,t){if(void 0===t&&(t={}),this.uploaders[e]){var r=this.uploaders[e];r.abort(),t.abort&&setTimeout(function(){return r.abort(!0)},1e3),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)},u.upload=function(e,t,o){var n=this;return this.resetUploaderReferences(e.id),new Promise(function(t,o){n.uppy.emit("upload-started",e);var u=r({},U,n.opts,e.tus||{});u.fingerprint=R(e),u.onError=function(t){n.uppy.log(t),v(t.originalRequest)&&(t=new m(t,t.originalRequest)),n.resetUploaderReferences(e.id),p.done(),n.uppy.emit("upload-error",e,t),o(t)},u.onProgress=function(t,r){n.onReceiveUploadUrl(e,a.url),n.uppy.emit("upload-progress",e,{uploader:n,bytesUploaded:t,bytesTotal:r})},u.onSuccess=function(){var r={uploadURL:a.url};n.resetUploaderReferences(e.id),p.done(),n.uppy.emit("upload-success",e,r),a.url&&n.uppy.log("Download "+a.file.name+" from "+a.url),t(a)};var i=function(e,t,r){g(e,t)&&!g(e,r)&&(e[r]=e[t])},l={};(Array.isArray(u.metaFields)?u.metaFields:Object.keys(e.meta)).forEach(function(t){l[t]=e.meta[t]}),i(l,"type","filetype"),i(l,"name","filename"),u.metadata=l;var a=new s.Upload(e.data,u);n.uploaders[e.id]=a,n.uploaderEvents[e.id]=new y(n.uppy);var p=n.requests.run(function(){return e.isPaused||a.start(),function(){}});n.onFileRemove(e.id,function(r){p.abort(),n.resetUploaderReferences(e.id,{abort:!!a.url}),t("upload "+r+" was removed")}),n.onPause(e.id,function(e){e?(p.abort(),a.abort()):(p.abort(),p=n.requests.run(function(){return a.start(),function(){}}))}),n.onPauseAll(e.id,function(){p.abort(),a.abort()}),n.onCancelAll(e.id,function(){p.abort(),n.resetUploaderReferences(e.id,{abort:!!a.url}),t("upload "+e.id+" was canceled")}),n.onResumeAll(e.id,function(){p.abort(),e.error&&a.abort(),p=n.requests.run(function(){return a.start(),function(){}})})}).catch(function(t){throw n.uppy.emit("upload-error",e,t),t})},u.uploadRemote=function(e,t,o){var n=this;this.resetUploaderReferences(e.id);var u=r({},this.opts);return e.tus&&r(u,e.tus),this.uppy.emit("upload-started",e),this.uppy.log(e.remote.url),e.serverToken?this.connectToServerSocket(e):new Promise(function(t,o){new(e.remote.providerOptions.provider?a:p)(n.uppy,e.remote.providerOptions).post(e.remote.url,r({},e.remote.body,{endpoint:u.endpoint,uploadUrl:u.uploadUrl,protocol:"tus",size:e.data.size,metadata:e.meta})).then(function(t){return n.uppy.setFileState(e.id,{serverToken:t.token}),e=n.uppy.getFile(e.id),n.connectToServerSocket(e)}).then(function(){t()}).catch(function(t){n.uppy.emit("upload-error",e,t),o(t)})})},u.connectToServerSocket=function(e){var t=this;return new Promise(function(o,n){var u=e.serverToken,i=f(e.remote.companionUrl),s=new d({target:i+"/api/"+u,autoOpen:!1});t.uploaderSockets[e.id]=s,t.uploaderEvents[e.id]=new y(t.uppy),t.onFileRemove(e.id,function(){l.abort(),s.send("pause",{}),s.send("cancel",{}),t.resetUploaderReferences(e.id),o("upload "+e.id+" was removed")}),t.onPause(e.id,function(e){e?(l.abort(),s.send("pause",{})):(l.abort(),l=t.requests.run(function(){return s.send("resume",{}),function(){}}))}),t.onPauseAll(e.id,function(){l.abort(),s.send("pause",{})}),t.onCancelAll(e.id,function(){l.abort(),s.send("pause",{}),s.send("cancel",{}),t.resetUploaderReferences(e.id),o("upload "+e.id+" was canceled")}),t.onResumeAll(e.id,function(){l.abort(),e.error&&s.send("pause",{}),l=t.requests.run(function(){return s.send("resume",{}),function(){}})}),t.onRetry(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),t.onRetryAll(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),s.on("progress",function(r){return c(t,r,e)}),s.on("error",function(o){var u=o.error.message,i=r(new Error(u),{cause:o.error});t.opts.useFastRemoteRetry?s.close():(t.resetUploaderReferences(e.id),t.uppy.setFileState(e.id,{serverToken:null})),t.uppy.emit("upload-error",e,i),l.done(),n(i)}),s.on("success",function(r){var n={uploadURL:r.url};t.uppy.emit("upload-success",e,n),t.resetUploaderReferences(e.id),l.done(),o()});var l=t.requests.run(function(){return s.open(),e.isPaused&&s.send("pause",{}),function(){}})})},u.onReceiveUploadUrl=function(e,t){var o=this.uppy.getFile(e.id);o&&(o.tus&&o.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(o.id,{tus:r({},o.tus,{uploadUrl:t})})))},u.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(r){e===r.id&&t(r.id)})},u.onPause=function(e,t){this.uploaderEvents[e].on("upload-pause",function(r,o){e===r&&t(o)})},u.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(r){e===r&&t()})},u.onRetryAll=function(e,t){var r=this;this.uploaderEvents[e].on("retry-all",function(o){r.uppy.getFile(e)&&t()})},u.onPauseAll=function(e,t){var r=this;this.uploaderEvents[e].on("pause-all",function(){r.uppy.getFile(e)&&t()})},u.onCancelAll=function(e,t){var r=this;this.uploaderEvents[e].on("cancel-all",function(){r.uppy.getFile(e)&&t()})},u.onResumeAll=function(e,t){var r=this;this.uploaderEvents[e].on("resume-all",function(){r.uppy.getFile(e)&&t()})},u.uploadFiles=function(e){var t=this,r=e.map(function(r,o){var n=o+1,u=e.length;return"error"in r&&r.error?Promise.reject(new Error(r.error)):r.isRemote?t.uploadRemote(r,n,u):t.upload(r,n,u)});return h(r)},u.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var r=e.map(function(e){return t.uppy.getFile(e)});return this.uploadFiles(r).then(function(){return null})},u.install=function(){this.uppy.setState({capabilities:r({},this.uppy.getState().capabilities,{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},u.uninstall=function(){this.uppy.setState({capabilities:r({},this.uppy.getState().capabilities,{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},t}(i),e.VERSION="1.6.0",t);
},{"@uppy/core":"l6tt","tus-js-client":"LKEN","@uppy/companion-client":"HLyv","@uppy/utils/lib/emitSocketProgress":"qRt8","@uppy/utils/lib/getSocketHost":"H1ie","@uppy/utils/lib/settle":"uWoc","@uppy/utils/lib/EventTracker":"v4QX","@uppy/utils/lib/NetworkError":"NtGx","@uppy/utils/lib/isNetworkError":"lUYM","@uppy/utils/lib/RateLimitedQueue":"BQ4Q","@uppy/utils/lib/hasProperty":"sIqw","./getFingerprint":"dRhu"}],"Focm":[function(require,module,exports) {
var e=require("@uppy/core"),r=require("@uppy/dashboard"),t=require("@uppy/tus");"https:"!==location.protocol&&location.replace("https:".concat(location.href.substring(location.protocol.length)));var o=e().use(r,{inline:!0,target:"body"}).use(t,{endpoint:"https://tus-b2-server.herokuapp.com/files",resume:!0,autoRetry:!0,retryDelays:[0,1e3,3e3,5e3]});
},{"@uppy/core":"l6tt","@uppy/dashboard":"C9Vr","@uppy/tus":"GE59"}]},{},["Focm"], null)
//# sourceMappingURL=/upload-b2.8c0b845d.js.map